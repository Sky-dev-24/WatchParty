{"fileId":"ff449b4094c376608ed6","fileName":"07-api-validation.spec.ts","tests":[{"testId":"ff449b4094c376608ed6-a339637932aa3e4a9b63","title":"7.1: GET /api/streams","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":19,"column":7},"duration":49,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":49,"startTime":"2026-01-14T01:27:43.106Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:43.110Z","duration":11,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Create request context","startTime":"2026-01-14T01:27:43.124Z","duration":1,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":19,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  18 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mapiContext) {\n \u001b[90m  19 |\u001b[39m     apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  20 |\u001b[39m       baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl\u001b[33m,\u001b[39m"},{"title":"GET \"/api/streams\"","startTime":"2026-01-14T01:27:43.128Z","duration":32,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:43.163Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":25,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m  24 |\u001b[39m     \u001b[90m// Expected Result: HTTP 200, JSON array of streams\u001b[39m\n \u001b[90m  25 |\u001b[39m     expect(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(streams))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  26 |\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:43.165Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":30,"column":25},"count":1,"skipped":false,"snippet":" \u001b[90m  29 |\u001b[39m       \u001b[36mconst\u001b[39m stream \u001b[33m=\u001b[39m streams[\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n \u001b[90m  30 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                        ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  31 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mslug)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:43.166Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":31,"column":27},"count":1,"skipped":false,"snippet":" \u001b[90m  30 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m  31 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mslug)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                          ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  32 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:43.167Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":32,"column":28},"count":1,"skipped":false,"snippet":" \u001b[90m  31 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mslug)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m  32 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                           ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  33 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mscheduledStart)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:43.168Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":33,"column":37},"count":1,"skipped":false,"snippet":" \u001b[90m  32 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m  33 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mscheduledStart)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  34 |\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:43.169Z","duration":9,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Retrieved 1 streams, Cached: true\n"}]}],"ok":true},{"testId":"ff449b4094c376608ed6-98e10cdd350c05ec854c","title":"7.2: POST /api/streams - Unauthorized","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":46,"column":7},"duration":100,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":100,"startTime":"2026-01-14T01:27:43.178Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:43.179Z","duration":9,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Create request context","startTime":"2026-01-14T01:27:43.190Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":51,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m  50 |\u001b[39m     \u001b[90m// Step 2: Make POST request without auth\u001b[39m\n \u001b[90m  51 |\u001b[39m     \u001b[36mconst\u001b[39m apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({ baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  52 |\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-14T01:27:43.192Z","duration":26,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":53,"column":39},"count":1,"skipped":false,"snippet":" \u001b[90m  52 |\u001b[39m\n \u001b[90m  53 |\u001b[39m     \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m apiContext\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                      ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  54 |\u001b[39m       data\u001b[33m:\u001b[39m {"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:43.219Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":65,"column":31},"count":1,"skipped":false,"snippet":" \u001b[90m  64 |\u001b[39m     \u001b[90m// Expected Result: HTTP 401 Unauthorized\u001b[39m\n \u001b[90m  65 |\u001b[39m     expect(response\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                              ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  66 |\u001b[39m"},{"title":"Create request context","startTime":"2026-01-14T01:27:43.222Z","duration":1,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":19,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  18 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mapiContext) {\n \u001b[90m  19 |\u001b[39m     apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  20 |\u001b[39m       baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl\u001b[33m,\u001b[39m"},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-14T01:27:43.224Z","duration":62,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:43.287Z","duration":9,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[]}],"ok":true},{"testId":"ff449b4094c376608ed6-8eb6e3056b3d11d23e83","title":"7.3: POST /api/streams - Invalid Body","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":73,"column":7},"duration":195,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":195,"startTime":"2026-01-14T01:27:43.296Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:43.297Z","duration":7,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-14T01:27:43.306Z","duration":160,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-14T01:27:43.467Z","duration":29,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeGreaterThanOrEqual\"","startTime":"2026-01-14T01:27:43.497Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":87,"column":27},"count":1,"skipped":false,"snippet":" \u001b[90m  86 |\u001b[39m     \u001b[90m// Expected Result: HTTP 400 Bad Request\u001b[39m\n \u001b[90m  87 |\u001b[39m     expect(result\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                          ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  88 |\u001b[39m     expect(result\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:43.498Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":88,"column":26},"count":1,"skipped":false,"snippet":" \u001b[90m  87 |\u001b[39m     expect(result\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m  88 |\u001b[39m     expect(result\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                         ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  89 |\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:43.498Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Validation error: Missing required fields: slug, title, assetIds (array), scheduledStart\n"}]}],"ok":true},{"testId":"ff449b4094c376608ed6-5f06d2683c3888e3fc8f","title":"7.4: PATCH /api/streams/[id]","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":93,"column":7},"duration":587,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":587,"startTime":"2026-01-14T01:27:43.504Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:43.504Z","duration":6,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"GET \"/api/mux/assets?limit=1\"","startTime":"2026-01-14T01:27:43.511Z","duration":178,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-14T01:27:43.690Z","duration":173,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:43.864Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":110,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 109 |\u001b[39m\n \u001b[90m 110 |\u001b[39m     expect(createResult\u001b[33m.\u001b[39mstream)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 111 |\u001b[39m     \u001b[36mconst\u001b[39m streamId \u001b[33m=\u001b[39m createResult\u001b[33m.\u001b[39mstream\u001b[33m!\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m"},{"title":"PATCH \"/api/streams/cmkdccog30053od2lutvg7nqd\"","startTime":"2026-01-14T01:27:43.865Z","duration":36,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeLessThan\"","startTime":"2026-01-14T01:27:43.902Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":119,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 118 |\u001b[39m     \u001b[90m// Expected Result: HTTP 200, stream updated\u001b[39m\n \u001b[90m 119 |\u001b[39m     expect(patchResult\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 120 |\u001b[39m     expect(patchResult\u001b[33m.\u001b[39mstream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(newTitle)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:43.903Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":120,"column":39},"count":1,"skipped":false,"snippet":" \u001b[90m 119 |\u001b[39m     expect(patchResult\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 120 |\u001b[39m     expect(patchResult\u001b[33m.\u001b[39mstream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(newTitle)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                      ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 121 |\u001b[39m"},{"title":"GET \"/api/streams/cmkdccog30053od2lutvg7nqd\"","startTime":"2026-01-14T01:27:43.904Z","duration":28,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":113,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 112 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 113 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(idOrSlug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 114 |\u001b[39m   \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mstatus() \u001b[33m===\u001b[39m \u001b[35m404\u001b[39m) \u001b[36mreturn\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:43.932Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":124,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 123 |\u001b[39m     \u001b[36mconst\u001b[39m verifyStream \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mgetStream(streamId)\u001b[33m;\u001b[39m\n \u001b[90m 124 |\u001b[39m     expect(verifyStream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(newTitle)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 125 |\u001b[39m"},{"title":"DELETE \"/api/streams/cmkdccog30053od2lutvg7nqd\"","startTime":"2026-01-14T01:27:43.933Z","duration":163,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:44.096Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[]}],"ok":true},{"testId":"ff449b4094c376608ed6-a9dd54d18773f058d206","title":"7.5: DELETE /api/streams/[id]","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":130,"column":7},"duration":435,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":435,"startTime":"2026-01-14T01:27:44.101Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:44.102Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"GET \"/api/mux/assets?limit=1\"","startTime":"2026-01-14T01:27:44.106Z","duration":174,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-14T01:27:44.282Z","duration":183,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:44.466Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":147,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 146 |\u001b[39m\n \u001b[90m 147 |\u001b[39m     expect(createResult\u001b[33m.\u001b[39mstream)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 148 |\u001b[39m     \u001b[36mconst\u001b[39m streamId \u001b[33m=\u001b[39m createResult\u001b[33m.\u001b[39mstream\u001b[33m!\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m"},{"title":"DELETE \"/api/streams/cmkdccows0058od2lpveu2f3v\"","startTime":"2026-01-14T01:27:44.467Z","duration":43,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:44.510Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":155,"column":34},"count":1,"skipped":false,"snippet":" \u001b[90m 154 |\u001b[39m     \u001b[90m// Expected Result: DELETE returns 200 or 204\u001b[39m\n \u001b[90m 155 |\u001b[39m     expect(deleteResult\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 156 |\u001b[39m"},{"title":"GET \"/api/streams/cmkdccows0058od2lpveu2f3v\"","startTime":"2026-01-14T01:27:44.511Z","duration":29,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":113,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 112 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 113 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(idOrSlug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 114 |\u001b[39m   \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mstatus() \u001b[33m===\u001b[39m \u001b[35m404\u001b[39m) \u001b[36mreturn\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeNull\"","startTime":"2026-01-14T01:27:44.540Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":159,"column":27},"count":1,"skipped":false,"snippet":" \u001b[90m 158 |\u001b[39m     \u001b[36mconst\u001b[39m deletedStream \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mgetStream(streamId)\u001b[33m;\u001b[39m\n \u001b[90m 159 |\u001b[39m     expect(deletedStream)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                          ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 160 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:44.541Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[]}],"ok":true},{"testId":"ff449b4094c376608ed6-130fd2a7e9de94ecfffa","title":"7.6: GET /api/streams/[id]/status","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":162,"column":7},"duration":64,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":64,"startTime":"2026-01-14T01:27:44.546Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:44.547Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"GET \"/api/streams\"","startTime":"2026-01-14T01:27:44.552Z","duration":29,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"GET \"/api/streams/cmk4k3ot90005pg2khpayrw93/status\"","startTime":"2026-01-14T01:27:44.582Z","duration":28,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":186,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 185 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 186 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreamStatus(idOrSlug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 187 |\u001b[39m   \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mstatus() \u001b[33m===\u001b[39m \u001b[35m404\u001b[39m) \u001b[36mreturn\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Expect \"not toBeNull\"","startTime":"2026-01-14T01:27:44.612Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":180,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m 179 |\u001b[39m     \u001b[90m// Expected Result: HTTP 200, JSON with endedAt and isActive\u001b[39m\n \u001b[90m 180 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 181 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'endedAt'\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toHaveProperty\"","startTime":"2026-01-14T01:27:44.613Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":181,"column":20},"count":1,"skipped":false,"snippet":" \u001b[90m 180 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n \u001b[90m 181 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'endedAt'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 182 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'isActive'\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toHaveProperty\"","startTime":"2026-01-14T01:27:44.614Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":182,"column":20},"count":1,"skipped":false,"snippet":" \u001b[90m 181 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'endedAt'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 182 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'isActive'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 183 |\u001b[39m"},{"title":"Expect \"toBeLessThan\"","startTime":"2026-01-14T01:27:44.614Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":187,"column":22},"count":1,"skipped":false,"snippet":" \u001b[90m 186 |\u001b[39m     \u001b[90m// Should be under 500ms ideally (allowing for network)\u001b[39m\n \u001b[90m 187 |\u001b[39m     expect(duration)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m5000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                     ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 188 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:44.615Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":190,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 189 |\u001b[39m     \u001b[90m// Verification: Fields match stream state\u001b[39m\n \u001b[90m 190 |\u001b[39m     expect(status\u001b[33m!\u001b[39m\u001b[33m.\u001b[39misActive)\u001b[33m.\u001b[39mtoBe(stream\u001b[33m.\u001b[39misActive)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 191 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:44.615Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Status endpoint response time: 30ms\n"}]}],"ok":true},{"testId":"ff449b4094c376608ed6-871327271a7bf509b8a8","title":"7.7: GET /api/streams/[id]/events (SSE)","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":193,"column":7},"duration":5038,"annotations":[],"tags":[],"outcome":"unexpected","path":["Suite 7: API Validation"],"results":[{"duration":5038,"startTime":"2026-01-14T01:27:44.620Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:44.621Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"GET \"/api/streams\"","startTime":"2026-01-14T01:27:44.627Z","duration":30,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"Create request context","startTime":"2026-01-14T01:27:44.658Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":204,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m 203 |\u001b[39m     \u001b[90m// Create a raw HTTP request context for SSE\u001b[39m\n \u001b[90m 204 |\u001b[39m     \u001b[36mconst\u001b[39m apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({ baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 205 |\u001b[39m"},{"title":"GET \"/api/streams/cmk4k3ot90005pg2khpayrw93/events\"","startTime":"2026-01-14T01:27:44.660Z","duration":5002,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":207,"column":39},"error":"TimeoutError: apiRequestContext.get: Timeout 5000ms exceeded.\nCall log:\n\u001b[2m  - → GET https://simulive.cloudysky.xyz/api/streams/cmk4k3ot90005pg2khpayrw93/events\u001b[22m\n\u001b[2m    - user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36\u001b[22m\n\u001b[2m    - accept: text/event-stream\u001b[22m\n\u001b[2m    - accept-encoding: gzip,deflate,br\u001b[22m\n\u001b[2m  - ← 200 OK\u001b[22m\n\u001b[2m    - date: Wed, 14 Jan 2026 01:27:44 GMT\u001b[22m\n\u001b[2m    - content-type: text/event-stream\u001b[22m\n\u001b[2m    - transfer-encoding: chunked\u001b[22m\n\u001b[2m    - connection: keep-alive\u001b[22m\n\u001b[2m    - cache-control: no-cache\u001b[22m\n\u001b[2m    - vary: rsc, next-router-state-tree, next-router-prefetch, next-router-segment-prefetch\u001b[22m\n\u001b[2m    - cf-cache-status: DYNAMIC\u001b[22m\n\u001b[2m    - nel: {\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}\u001b[22m\n\u001b[2m    - report-to: {\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=FFwVRVOKN0arV6rY2mtYKSn%2BdWF43ndXCipewzEG%2FHecuM5kmvpj%2F9B1x0IpWPM1ZzKFfdQzjf9riR3SLElAvDKh7S9kW%2BQiTSPI1RQrgu8MIaZF0WM%3D\"}]}\u001b[22m\n\u001b[2m    - server: cloudflare\u001b[22m\n\u001b[2m    - cf-ray: 9bd95a499c2d7c89-LAX\u001b[22m\n\u001b[2m    - alt-svc: h3=\":443\"; ma=86400\u001b[22m\n","count":1,"skipped":false,"snippet":" \u001b[90m 206 |\u001b[39m     \u001b[90m// Step 1: Connect to SSE endpoint\u001b[39m\n \u001b[90m 207 |\u001b[39m     \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m apiContext\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreamEvents(activeStream\u001b[33m.\u001b[39mid)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                      ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 208 |\u001b[39m       headers\u001b[33m:\u001b[39m { \u001b[33mAccept\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'text/event-stream'\u001b[39m }\u001b[33m,\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:49.663Z","duration":20,"steps":[{"title":"afterAll hook","startTime":"2026-01-14T01:27:49.669Z","duration":14,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":15,"column":8},"count":1,"skipped":false,"snippet":" \u001b[90m  14 |\u001b[39m test\u001b[33m.\u001b[39mdescribe(\u001b[32m'Suite 7: API Validation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m  15 |\u001b[39m   test\u001b[33m.\u001b[39mafterAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  16 |\u001b[39m     \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mdisposeApiContext()\u001b[33m;\u001b[39m"}],"attachments":[],"count":1,"skipped":false},{"title":"Worker Cleanup","startTime":"2026-01-14T01:27:49.683Z","duration":78,"steps":[{"title":"Fixture \"browser\"","startTime":"2026-01-14T01:27:49.684Z","duration":75,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[{"message":"TimeoutError: apiRequestContext.get: Timeout 5000ms exceeded.\nCall log:\n\u001b[2m  - → GET https://simulive.cloudysky.xyz/api/streams/cmk4k3ot90005pg2khpayrw93/events\u001b[22m\n\u001b[2m    - user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36\u001b[22m\n\u001b[2m    - accept: text/event-stream\u001b[22m\n\u001b[2m    - accept-encoding: gzip,deflate,br\u001b[22m\n\u001b[2m  - ← 200 OK\u001b[22m\n\u001b[2m    - date: Wed, 14 Jan 2026 01:27:44 GMT\u001b[22m\n\u001b[2m    - content-type: text/event-stream\u001b[22m\n\u001b[2m    - transfer-encoding: chunked\u001b[22m\n\u001b[2m    - connection: keep-alive\u001b[22m\n\u001b[2m    - cache-control: no-cache\u001b[22m\n\u001b[2m    - vary: rsc, next-router-state-tree, next-router-prefetch, next-router-segment-prefetch\u001b[22m\n\u001b[2m    - cf-cache-status: DYNAMIC\u001b[22m\n\u001b[2m    - nel: {\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}\u001b[22m\n\u001b[2m    - report-to: {\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=FFwVRVOKN0arV6rY2mtYKSn%2BdWF43ndXCipewzEG%2FHecuM5kmvpj%2F9B1x0IpWPM1ZzKFfdQzjf9riR3SLElAvDKh7S9kW%2BQiTSPI1RQrgu8MIaZF0WM%3D\"}]}\u001b[22m\n\u001b[2m    - server: cloudflare\u001b[22m\n\u001b[2m    - cf-ray: 9bd95a499c2d7c89-LAX\u001b[22m\n\u001b[2m    - alt-svc: h3=\":443\"; ma=86400\u001b[22m\n\n\n\u001b[0m \u001b[90m 205 |\u001b[39m\n \u001b[90m 206 |\u001b[39m     \u001b[90m// Step 1: Connect to SSE endpoint\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 207 |\u001b[39m     \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m apiContext\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreamEvents(activeStream\u001b[33m.\u001b[39mid)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 208 |\u001b[39m       headers\u001b[33m:\u001b[39m { \u001b[33mAccept\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'text/event-stream'\u001b[39m }\u001b[33m,\u001b[39m\n \u001b[90m 209 |\u001b[39m       timeout\u001b[33m:\u001b[39m \u001b[35m5000\u001b[39m\u001b[33m,\u001b[39m\n \u001b[90m 210 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at C:\\Users\\Sky.TLC\\simulive-test\\e2e\\tests\\07-api-validation.spec.ts:207:39\u001b[22m","codeframe":"  107 |       scheduledStart: helpers.getFutureDate(24).toISOString(),\n  108 |     });\n  109 |\n  110 |     expect(createResult.stream).toBeDefined();\n  111 |     const streamId = createResult.stream!.id;\n  112 |\n  113 |     // Step 1: PATCH with title update\n  114 |     const newTitle = 'E2E API Patch Test - Updated';\n  115 |     const patchResult = await api.updateStream(streamId, { title: newTitle });\n  116 |\n  117 |     // Step 2: Observe response\n  118 |     // Expected Result: HTTP 200, stream updated\n  119 |     expect(patchResult.status).toBeLessThan(400);\n  120 |     expect(patchResult.stream?.title).toBe(newTitle);\n  121 |\n  122 |     // Step 3: GET to verify persistence\n  123 |     const verifyStream = await api.getStream(streamId);\n  124 |     expect(verifyStream?.title).toBe(newTitle);\n  125 |\n  126 |     // Cleanup\n  127 |     await api.deleteStream(streamId);\n  128 |   });\n  129 |\n  130 |   test('7.5: DELETE /api/streams/[id]', async () => {\n  131 |     // Create a stream to delete\n  132 |     const assets = await api.getMuxAssets({ limit: 1 });\n  133 |     const readyAssets = assets.filter((a) => a.status === 'ready' && a.playback_ids?.length > 0);\n  134 |\n  135 |     if (readyAssets.length === 0) {\n  136 |       test.skip(true, 'No Mux assets available');\n  137 |       return;\n  138 |     }\n  139 |\n  140 |     const createResult = await api.createStream({\n  141 |       title: 'E2E API Delete Test',\n  142 |       slug: 'e2e-api-delete-test',\n  143 |       assetIds: [readyAssets[0].id],\n  144 |       scheduledStart: helpers.getFutureDate(24).toISOString(),\n  145 |     });\n  146 |\n  147 |     expect(createResult.stream).toBeDefined();\n  148 |     const streamId = createResult.stream!.id;\n  149 |\n  150 |     // Step 1: DELETE the stream\n  151 |     const deleteResult = await api.deleteStream(streamId);\n  152 |\n  153 |     // Step 2: Observe response\n  154 |     // Expected Result: DELETE returns 200 or 204\n  155 |     expect(deleteResult.success).toBe(true);\n  156 |\n  157 |     // Step 3: GET same stream should return 404\n  158 |     const deletedStream = await api.getStream(streamId);\n  159 |     expect(deletedStream).toBeNull();\n  160 |   });\n  161 |\n  162 |   test('7.6: GET /api/streams/[id]/status', async () => {\n  163 |     // Get an existing stream\n  164 |     const { streams } = await api.getStreams();\n  165 |\n  166 |     if (streams.length === 0) {\n  167 |       test.skip(true, 'No streams available');\n  168 |       return;\n  169 |     }\n  170 |\n  171 |     const stream = streams[0];\n  172 |\n  173 |     // Step 1: GET status\n  174 |     const startTime = Date.now();\n  175 |     const status = await api.getStreamStatus(stream.id);\n  176 |     const duration = Date.now() - startTime;\n  177 |\n  178 |     // Step 2: Parse response\n  179 |     // Expected Result: HTTP 200, JSON with endedAt and isActive\n  180 |     expect(status).not.toBeNull();\n  181 |     expect(status).toHaveProperty('endedAt');\n  182 |     expect(status).toHaveProperty('isActive');\n  183 |\n  184 |     // Verification: Response is fast\n  185 |     console.log(`Status endpoint response time: ${duration}ms`);\n  186 |     // Should be under 500ms ideally (allowing for network)\n  187 |     expect(duration).toBeLessThan(5000);\n  188 |\n  189 |     // Verification: Fields match stream state\n  190 |     expect(status!.isActive).toBe(stream.isActive);\n  191 |   });\n  192 |\n  193 |   test('7.7: GET /api/streams/[id]/events (SSE)', async () => {\n  194 |     // Get an existing stream\n  195 |     const { streams } = await api.getStreams();\n  196 |     const activeStream = streams.find((s) => s.isActive);\n  197 |\n  198 |     if (!activeStream) {\n  199 |       test.skip(true, 'No active streams for SSE test');\n  200 |       return;\n  201 |     }\n  202 |\n  203 |     // Create a raw HTTP request context for SSE\n  204 |     const apiContext = await request.newContext({ baseURL: config.baseUrl });\n  205 |\n  206 |     // Step 1: Connect to SSE endpoint\n> 207 |     const response = await apiContext.get(endpoints.api.streamEvents(activeStream.id), {\n      |                                       ^ TimeoutError: apiRequestContext.get: Timeout 5000ms exceeded.\n  208 |       headers: { Accept: 'text/event-stream' },\n  209 |       timeout: 5000,\n  210 |     });\n  211 |\n  212 |     // Step 2: Verify connection\n  213 |     // Expected Result: Connection established\n  214 |     expect(response.status()).toBe(200);\n  215 |\n  216 |     // Check content type\n  217 |     const contentType = response.headers()['content-type'];\n  218 |     const isSSE = contentType?.includes('text/event-stream');\n  219 |\n  220 |     console.log(`SSE endpoint content-type: ${contentType}, Is SSE: ${isSSE}`);\n  221 |\n  222 |     // The response body would contain the initial \"connected\" event\n  223 |     const body = await response.text();\n  224 |     const hasConnectedEvent = body.includes('connected') || body.includes('data:');\n  225 |\n  226 |     console.log(`SSE response preview: ${body.substring(0, 200)}`);\n  227 |\n  228 |     await apiContext.dispose();\n  229 |   });\n  230 |\n  231 |   test('7.8: POST /api/admin/login - Rate Limit Headers @ratelimit', async () => {\n  232 |     // Create fresh context for rate limit test\n  233 |     const apiContext = await request.newContext({ baseURL: config.baseUrl });\n  234 |\n  235 |     // Make multiple failed attempts\n  236 |     for (let i = 0; i < 6; i++) {\n  237 |       const response = await apiContext.post(endpoints.api.login, {\n  238 |         data: { password: 'wrong-password-rate-test' },\n  239 |         headers: { 'Content-Type': 'application/json' },\n  240 |       });\n  241 |\n  242 |       if (response.status() === 429) {\n  243 |         // Step 2: Observe response\n  244 |         // Expected Result: HTTP 429, Retry-After header present\n  245 |         const retryAfter = response.headers()['retry-after'];\n  246 |         console.log(`Rate limited after ${i + 1} attempts, Retry-After: ${retryAfter}`);\n  247 |\n  248 |         // Verification: Header indicates wait time\n  249 |         expect(retryAfter || response.status() === 429).toBeTruthy();\n  250 |         break;\n  251 |       }\n  252 |     }\n  253 |\n  254 |     await apiContext.dispose();\n  255 |   });\n  256 |\n  257 |   test('7.9: GET /api/admin/audit - Filtering', async () => {\n  258 |     // Ensure authenticated\n  259 |     await api.login(config.adminPassword);\n  260 |\n  261 |     // Step 1: GET with query parameters\n  262 |     const filteredLogs = await api.getAuditLogs({\n  263 |       event: 'LOGIN_SUCCESS',\n  264 |       limit: 10,\n  265 |     });\n  266 |\n  267 |     // Step 2: Parse response\n  268 |     // Expected Result: Filtered results returned\n  269 |     expect(filteredLogs.logs).toBeDefined();\n  270 |     expect(filteredLogs.limit).toBe(10);\n  271 |\n  272 |     // Verification: All items match filter\n  273 |     if (filteredLogs.logs.length > 0) {\n  274 |       const allMatch = filteredLogs.logs.every((log) => log.event === 'LOGIN_SUCCESS');\n  275 |       expect(allMatch).toBe(true);\n  276 |     }\n  277 |\n  278 |     // Verification: Response has pagination fields\n  279 |     expect(filteredLogs.total).toBeDefined();\n  280 |     expect(filteredLogs.offset).toBeDefined();\n  281 |   });\n  282 |\n  283 |   test('7.10: GET /api/mux/assets', async () => {\n  284 |     // Ensure authenticated\n  285 |     await api.login(config.adminPassword);\n  286 |\n  287 |     // Step 1: GET assets\n  288 |     const assets = await api.getMuxAssets({ limit: 10 });\n  289 |\n  290 |     // Step 2: Parse response\n  291 |     // Expected Result: HTTP 200, array of assets\n  292 |     expect(Array.isArray(assets)).toBe(true);\n  293 |\n  294 |     // Verification: Assets have required fields\n  295 |     if (assets.length > 0) {\n  296 |       const asset = assets[0];\n  297 |       expect(asset.id).toBeDefined();\n  298 |       expect(asset.status).toBeDefined();\n  299 |\n  300 |       // Ready assets should have playback IDs\n  301 |       const readyAssets = assets.filter((a) => a.status === 'ready');\n  302 |       if (readyAssets.length > 0) {\n  303 |         expect(readyAssets[0].playback_ids).toBeDefined();\n  304 |         expect(readyAssets[0].playback_ids.length).toBeGreaterThan(0);\n  305 |       }\n  306 |     }\n  307 |"}],"status":"failed","annotations":[],"attachments":[]}],"ok":false},{"testId":"ff449b4094c376608ed6-fde06e4eecd8d0af244b","title":"7.9: GET /api/admin/audit - Filtering","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":257,"column":7},"duration":218,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":218,"startTime":"2026-01-14T01:27:50.624Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:50.629Z","duration":13,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Create request context","startTime":"2026-01-14T01:27:50.651Z","duration":4,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":19,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  18 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mapiContext) {\n \u001b[90m  19 |\u001b[39m     apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  20 |\u001b[39m       baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl\u001b[33m,\u001b[39m"},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-14T01:27:50.657Z","duration":152,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"GET \"/api/admin/audit?event=LOGIN_SUCCESS&limit=10\"","startTime":"2026-01-14T01:27:50.811Z","duration":39,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":206,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 205 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.audit}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 207 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:50.853Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":269,"column":31},"count":1,"skipped":false,"snippet":" \u001b[90m 268 |\u001b[39m     \u001b[90m// Expected Result: Filtered results returned\u001b[39m\n \u001b[90m 269 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mlogs)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                              ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 270 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mlimit)\u001b[33m.\u001b[39mtoBe(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:50.854Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":270,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 269 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mlogs)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m 270 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mlimit)\u001b[33m.\u001b[39mtoBe(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 271 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:50.855Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":275,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m 274 |\u001b[39m       \u001b[36mconst\u001b[39m allMatch \u001b[33m=\u001b[39m filteredLogs\u001b[33m.\u001b[39mlogs\u001b[33m.\u001b[39mevery((log) \u001b[33m=>\u001b[39m log\u001b[33m.\u001b[39mevent \u001b[33m===\u001b[39m \u001b[32m'LOGIN_SUCCESS'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 275 |\u001b[39m       expect(allMatch)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 276 |\u001b[39m     }"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:50.855Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":279,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 278 |\u001b[39m     \u001b[90m// Verification: Response has pagination fields\u001b[39m\n \u001b[90m 279 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mtotal)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 280 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39moffset)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:50.856Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":280,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 279 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mtotal)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m 280 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39moffset)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 281 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:50.856Z","duration":11,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[]}],"ok":true},{"testId":"ff449b4094c376608ed6-900e98d4e1073f0942c1","title":"7.10: GET /api/mux/assets","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":283,"column":7},"duration":655,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":655,"startTime":"2026-01-14T01:27:50.867Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:50.868Z","duration":10,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-14T01:27:50.879Z","duration":32,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"GET \"/api/mux/assets?limit=10\"","startTime":"2026-01-14T01:27:50.913Z","duration":612,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:51.528Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":292,"column":35},"count":1,"skipped":false,"snippet":" \u001b[90m 291 |\u001b[39m     \u001b[90m// Expected Result: HTTP 200, array of assets\u001b[39m\n \u001b[90m 292 |\u001b[39m     expect(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(assets))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                  ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 293 |\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:51.529Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":297,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m 296 |\u001b[39m       \u001b[36mconst\u001b[39m asset \u001b[33m=\u001b[39m assets[\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n \u001b[90m 297 |\u001b[39m       expect(asset\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 298 |\u001b[39m       expect(asset\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:51.530Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":298,"column":28},"count":1,"skipped":false,"snippet":" \u001b[90m 297 |\u001b[39m       expect(asset\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m 298 |\u001b[39m       expect(asset\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                           ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 299 |\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:51.530Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":303,"column":45},"count":1,"skipped":false,"snippet":" \u001b[90m 302 |\u001b[39m       \u001b[36mif\u001b[39m (readyAssets\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m) {\n \u001b[90m 303 |\u001b[39m         expect(readyAssets[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mplayback_ids)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                            ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 304 |\u001b[39m         expect(readyAssets[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mplayback_ids\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeGreaterThan\"","startTime":"2026-01-14T01:27:51.531Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":304,"column":52},"count":1,"skipped":false,"snippet":" \u001b[90m 303 |\u001b[39m         expect(readyAssets[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mplayback_ids)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m 304 |\u001b[39m         expect(readyAssets[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mplayback_ids\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 305 |\u001b[39m       }"},{"title":"After Hooks","startTime":"2026-01-14T01:27:51.532Z","duration":27,"steps":[{"title":"afterAll hook","startTime":"2026-01-14T01:27:51.539Z","duration":20,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":15,"column":8},"count":1,"skipped":false,"snippet":" \u001b[90m  14 |\u001b[39m test\u001b[33m.\u001b[39mdescribe(\u001b[32m'Suite 7: API Validation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m  15 |\u001b[39m   test\u001b[33m.\u001b[39mafterAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  16 |\u001b[39m     \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mdisposeApiContext()\u001b[33m;\u001b[39m"}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Retrieved 10 Mux assets\n"}]}],"ok":true},{"testId":"ff449b4094c376608ed6-f0c28d6c7f479b3f27fc","title":"7.8: POST /api/admin/login - Rate Limit Headers @ratelimit","projectName":"chromium-rate-limit","location":{"file":"07-api-validation.spec.ts","line":231,"column":7},"duration":0,"annotations":[],"tags":["@ratelimit"],"outcome":"skipped","path":["Suite 7: API Validation"],"results":[],"ok":false}]}