{"fileId":"47d868bc0e718fe28b50","fileName":"05-embed-functionality.spec.ts","tests":[{"testId":"47d868bc0e718fe28b50-9ad741f908056f83f283","title":"5.1: Embed Page Loads","projectName":"chromium","location":{"file":"05-embed-functionality.spec.ts","line":45,"column":7},"duration":2481,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 5: Embed Functionality"],"results":[{"duration":2481,"startTime":"2026-01-14T01:27:21.260Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:21.262Z","duration":795,"steps":[{"title":"beforeAll hook","startTime":"2026-01-14T01:27:21.262Z","duration":730,"steps":[{"title":"Create request context","startTime":"2026-01-14T01:27:21.267Z","duration":2,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":19,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  18 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mapiContext) {\n \u001b[90m  19 |\u001b[39m     apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  20 |\u001b[39m       baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl\u001b[33m,\u001b[39m"},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-14T01:27:21.270Z","duration":82,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"GET \"/api/mux/assets?limit=1\"","startTime":"2026-01-14T01:27:21.354Z","duration":340,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-14T01:27:21.696Z","duration":173,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"PATCH \"/api/streams/cmkdcc7h6007jod2m8w14j4dh\"","startTime":"2026-01-14T01:27:21.871Z","duration":115,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"}],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":17,"column":8},"count":1,"skipped":false,"snippet":" \u001b[90m  16 |\u001b[39m test\u001b[33m.\u001b[39mdescribe(\u001b[32m'Suite 5: Embed Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m  17 |\u001b[39m   test\u001b[33m.\u001b[39mbeforeAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  18 |\u001b[39m     \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mlogin(config\u001b[33m.\u001b[39madminPassword)\u001b[33m;\u001b[39m"},{"title":"Fixture \"context\"","startTime":"2026-01-14T01:27:21.996Z","duration":4,"steps":[{"title":"Create context","startTime":"2026-01-14T01:27:21.997Z","duration":2,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-14T01:27:22.000Z","duration":57,"steps":[{"title":"Create page","startTime":"2026-01-14T01:27:22.001Z","duration":55,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/embed/e2e-embed-test\"","startTime":"2026-01-14T01:27:22.058Z","duration":159,"steps":[],"attachments":[],"location":{"file":"../lib/test-helpers.ts","line":9,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m navigateTo(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m\u001b[33m,\u001b[39m path\u001b[33m:\u001b[39m string)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(path\u001b[33m,\u001b[39m { waitUntil\u001b[33m:\u001b[39m \u001b[32m'domcontentloaded'\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  10 |\u001b[39m }"},{"title":"Wait for timeout","startTime":"2026-01-14T01:27:22.217Z","duration":2000,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":55,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m  54 |\u001b[39m     \u001b[90m// Step 2: Observe page layout\u001b[39m\n \u001b[90m  55 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m2000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  56 |\u001b[39m"},{"title":"Query count locator('nav, header, footer')","startTime":"2026-01-14T01:27:24.218Z","duration":23,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":59,"column":69},"count":1,"skipped":false,"snippet":" \u001b[90m  58 |\u001b[39m     \u001b[90m// Check that there's no header/footer/navigation\u001b[39m\n \u001b[90m  59 |\u001b[39m     \u001b[36mconst\u001b[39m hasNavigation \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mlocator(\u001b[32m'nav, header, footer'\u001b[39m)\u001b[33m.\u001b[39mcount()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  60 |\u001b[39m"},{"title":"Query count locator('[data-testid=\"video-player\"], .mux-player, mux-player').first()","startTime":"2026-01-14T01:27:24.242Z","duration":3,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":63,"column":40},"count":1,"skipped":false,"snippet":" \u001b[90m  62 |\u001b[39m     \u001b[36mconst\u001b[39m player \u001b[33m=\u001b[39m page\u001b[33m.\u001b[39mlocator(selectors\u001b[33m.\u001b[39mvideoPlayer)\u001b[33m.\u001b[39mfirst()\u001b[33m;\u001b[39m\n \u001b[90m  63 |\u001b[39m     \u001b[36mconst\u001b[39m playerExists \u001b[33m=\u001b[39m (\u001b[36mawait\u001b[39m player\u001b[33m.\u001b[39mcount()) \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  64 |\u001b[39m"},{"title":"Evaluate","startTime":"2026-01-14T01:27:24.246Z","duration":2,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":66,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m  65 |\u001b[39m     \u001b[90m// Check page background is dark (for embed aesthetic)\u001b[39m\n \u001b[90m  66 |\u001b[39m     \u001b[36mconst\u001b[39m bgColor \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate(() \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  67 |\u001b[39m       \u001b[36mreturn\u001b[39m window\u001b[33m.\u001b[39mgetComputedStyle(document\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mbackgroundColor\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:24.248Z","duration":0,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":74,"column":96},"count":1,"skipped":false,"snippet":" \u001b[90m  73 |\u001b[39m     \u001b[90m// Player should be present\u001b[39m\n \u001b[90m  74 |\u001b[39m     expect(playerExists \u001b[33m||\u001b[39m (\u001b[36mawait\u001b[39m helpers\u001b[33m.\u001b[39mgetPageText(page))\u001b[33m.\u001b[39mtoLowerCase()\u001b[33m.\u001b[39mincludes(\u001b[32m'stream'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                                                                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  75 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:24.249Z","duration":235,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-14T01:27:24.249Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-14T01:27:24.249Z","duration":229,"steps":[{"title":"Close context","startTime":"2026-01-14T01:27:24.363Z","duration":115,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Navigation elements: 0, Player exists: true, BG: rgb(3, 7, 18)\n"}]}],"ok":true},{"testId":"47d868bc0e718fe28b50-66a59ac88570b2d07ae1","title":"5.2: Responsive Embed","projectName":"chromium","location":{"file":"05-embed-functionality.spec.ts","line":77,"column":7},"duration":3822,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 5: Embed Functionality"],"results":[{"duration":3822,"startTime":"2026-01-14T01:27:24.484Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:24.485Z","duration":76,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-14T01:27:24.491Z","duration":4,"steps":[{"title":"Create context","startTime":"2026-01-14T01:27:24.492Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-14T01:27:24.496Z","duration":65,"steps":[{"title":"Create page","startTime":"2026-01-14T01:27:24.497Z","duration":64,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/embed/e2e-embed-test\"","startTime":"2026-01-14T01:27:24.562Z","duration":288,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":87,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m  86 |\u001b[39m     \u001b[90m// Navigate to embed page and test at different sizes\u001b[39m\n \u001b[90m  87 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(embedUrl)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  88 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-14T01:27:24.851Z","duration":1001,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":88,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m  87 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(embedUrl)\u001b[33m;\u001b[39m\n \u001b[90m  88 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  89 |\u001b[39m"},{"title":"Set viewport size","startTime":"2026-01-14T01:27:25.853Z","duration":7,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":95,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  94 |\u001b[39m     \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m width \u001b[36mof\u001b[39m testWidths) {\n \u001b[90m  95 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mround(width \u001b[33m/\u001b[39m aspectRatio) })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  96 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-14T01:27:25.861Z","duration":500,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":96,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  95 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mround(width \u001b[33m/\u001b[39m aspectRatio) })\u001b[33m;\u001b[39m\n \u001b[90m  96 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  97 |\u001b[39m"},{"title":"Evaluate","startTime":"2026-01-14T01:27:26.362Z","duration":25,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":99,"column":37},"count":1,"skipped":false,"snippet":" \u001b[90m  98 |\u001b[39m       \u001b[90m// Get player/container dimensions\u001b[39m\n \u001b[90m  99 |\u001b[39m       \u001b[36mconst\u001b[39m dimensions \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate(() \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 100 |\u001b[39m         \u001b[36mconst\u001b[39m player \u001b[33m=\u001b[39m document\u001b[33m.\u001b[39mquerySelector(\u001b[32m'mux-player, video, .player-container, [data-testid=\"video-player\"]'\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeGreaterThan\"","startTime":"2026-01-14T01:27:26.389Z","duration":0,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":111,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 110 |\u001b[39m       \u001b[90m// Verification: Player should scale with viewport\u001b[39m\n \u001b[90m 111 |\u001b[39m       expect(dimensions\u001b[33m.\u001b[39mwidth)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 112 |\u001b[39m     }"},{"title":"Set viewport size","startTime":"2026-01-14T01:27:26.391Z","duration":10,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":95,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  94 |\u001b[39m     \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m width \u001b[36mof\u001b[39m testWidths) {\n \u001b[90m  95 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mround(width \u001b[33m/\u001b[39m aspectRatio) })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  96 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-14T01:27:26.402Z","duration":501,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":96,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  95 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mround(width \u001b[33m/\u001b[39m aspectRatio) })\u001b[33m;\u001b[39m\n \u001b[90m  96 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  97 |\u001b[39m"},{"title":"Evaluate","startTime":"2026-01-14T01:27:26.904Z","duration":3,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":99,"column":37},"count":1,"skipped":false,"snippet":" \u001b[90m  98 |\u001b[39m       \u001b[90m// Get player/container dimensions\u001b[39m\n \u001b[90m  99 |\u001b[39m       \u001b[36mconst\u001b[39m dimensions \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate(() \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 100 |\u001b[39m         \u001b[36mconst\u001b[39m player \u001b[33m=\u001b[39m document\u001b[33m.\u001b[39mquerySelector(\u001b[32m'mux-player, video, .player-container, [data-testid=\"video-player\"]'\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeGreaterThan\"","startTime":"2026-01-14T01:27:26.908Z","duration":1,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":111,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 110 |\u001b[39m       \u001b[90m// Verification: Player should scale with viewport\u001b[39m\n \u001b[90m 111 |\u001b[39m       expect(dimensions\u001b[33m.\u001b[39mwidth)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 112 |\u001b[39m     }"},{"title":"Set viewport size","startTime":"2026-01-14T01:27:26.910Z","duration":14,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":95,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  94 |\u001b[39m     \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m width \u001b[36mof\u001b[39m testWidths) {\n \u001b[90m  95 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mround(width \u001b[33m/\u001b[39m aspectRatio) })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  96 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-14T01:27:26.926Z","duration":500,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":96,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  95 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mround(width \u001b[33m/\u001b[39m aspectRatio) })\u001b[33m;\u001b[39m\n \u001b[90m  96 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  97 |\u001b[39m"},{"title":"Evaluate","startTime":"2026-01-14T01:27:27.428Z","duration":4,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":99,"column":37},"count":1,"skipped":false,"snippet":" \u001b[90m  98 |\u001b[39m       \u001b[90m// Get player/container dimensions\u001b[39m\n \u001b[90m  99 |\u001b[39m       \u001b[36mconst\u001b[39m dimensions \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate(() \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 100 |\u001b[39m         \u001b[36mconst\u001b[39m player \u001b[33m=\u001b[39m document\u001b[33m.\u001b[39mquerySelector(\u001b[32m'mux-player, video, .player-container, [data-testid=\"video-player\"]'\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeGreaterThan\"","startTime":"2026-01-14T01:27:27.433Z","duration":0,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":111,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 110 |\u001b[39m       \u001b[90m// Verification: Player should scale with viewport\u001b[39m\n \u001b[90m 111 |\u001b[39m       expect(dimensions\u001b[33m.\u001b[39mwidth)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 112 |\u001b[39m     }"},{"title":"Set viewport size","startTime":"2026-01-14T01:27:27.435Z","duration":21,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":95,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  94 |\u001b[39m     \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m width \u001b[36mof\u001b[39m testWidths) {\n \u001b[90m  95 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mround(width \u001b[33m/\u001b[39m aspectRatio) })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  96 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-14T01:27:27.457Z","duration":499,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":96,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  95 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mround(width \u001b[33m/\u001b[39m aspectRatio) })\u001b[33m;\u001b[39m\n \u001b[90m  96 |\u001b[39m       \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  97 |\u001b[39m"},{"title":"Evaluate","startTime":"2026-01-14T01:27:27.957Z","duration":2,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":99,"column":37},"count":1,"skipped":false,"snippet":" \u001b[90m  98 |\u001b[39m       \u001b[90m// Get player/container dimensions\u001b[39m\n \u001b[90m  99 |\u001b[39m       \u001b[36mconst\u001b[39m dimensions \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate(() \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 100 |\u001b[39m         \u001b[36mconst\u001b[39m player \u001b[33m=\u001b[39m document\u001b[33m.\u001b[39mquerySelector(\u001b[32m'mux-player, video, .player-container, [data-testid=\"video-player\"]'\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeGreaterThan\"","startTime":"2026-01-14T01:27:27.960Z","duration":0,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":111,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 110 |\u001b[39m       \u001b[90m// Verification: Player should scale with viewport\u001b[39m\n \u001b[90m 111 |\u001b[39m       expect(dimensions\u001b[33m.\u001b[39mwidth)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 112 |\u001b[39m     }"},{"title":"Set viewport size","startTime":"2026-01-14T01:27:27.962Z","duration":12,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":115,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 114 |\u001b[39m     \u001b[90m// Reset viewport\u001b[39m\n \u001b[90m 115 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m:\u001b[39m \u001b[35m1280\u001b[39m\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[35m720\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 116 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:27.974Z","duration":352,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-14T01:27:27.975Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-14T01:27:27.975Z","duration":338,"steps":[{"title":"Close context","startTime":"2026-01-14T01:27:28.129Z","duration":184,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Viewport 1920px: Player 1920x1080\nViewport 1280px: Player 1280x720\nViewport 768px: Player 768x432\nViewport 480px: Player 480x270\n"}]}],"ok":true},{"testId":"47d868bc0e718fe28b50-9b376985ae4599d04d74","title":"5.3: Fixed Size Embed","projectName":"chromium","location":{"file":"05-embed-functionality.spec.ts","line":118,"column":7},"duration":2612,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 5: Embed Functionality"],"results":[{"duration":2612,"startTime":"2026-01-14T01:27:28.327Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:28.329Z","duration":109,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-14T01:27:28.344Z","duration":9,"steps":[{"title":"Create context","startTime":"2026-01-14T01:27:28.346Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-14T01:27:28.355Z","duration":83,"steps":[{"title":"Create page","startTime":"2026-01-14T01:27:28.358Z","duration":80,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Set viewport size","startTime":"2026-01-14T01:27:28.440Z","duration":2,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":130,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 129 |\u001b[39m     \u001b[90m// Use a larger viewport\u001b[39m\n \u001b[90m 130 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetViewportSize({ width\u001b[33m:\u001b[39m \u001b[35m1920\u001b[39m\u001b[33m,\u001b[39m height\u001b[33m:\u001b[39m \u001b[35m1080\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 131 |\u001b[39m"},{"title":"Set content","startTime":"2026-01-14T01:27:28.443Z","duration":80,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":133,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 132 |\u001b[39m     \u001b[90m// Create HTML with fixed iframe\u001b[39m\n \u001b[90m 133 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39msetContent(\u001b[32m`\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 134 |\u001b[39m \u001b[32m      <!DOCTYPE html>\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-14T01:27:28.524Z","duration":2001,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":152,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 151 |\u001b[39m\n \u001b[90m 152 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m2000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 153 |\u001b[39m"},{"title":"Bounding box locator('iframe')","startTime":"2026-01-14T01:27:30.526Z","duration":42,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":156,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 155 |\u001b[39m     \u001b[36mconst\u001b[39m iframe \u001b[33m=\u001b[39m page\u001b[33m.\u001b[39mlocator(\u001b[32m'iframe'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 156 |\u001b[39m     \u001b[36mconst\u001b[39m box \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m iframe\u001b[33m.\u001b[39mboundingBox()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 157 |\u001b[39m"},{"title":"Expect \"not toBeNull\"","startTime":"2026-01-14T01:27:30.569Z","duration":1,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":159,"column":21},"count":1,"skipped":false,"snippet":" \u001b[90m 158 |\u001b[39m     \u001b[90m// Expected Result: Iframe is exactly the specified size\u001b[39m\n \u001b[90m 159 |\u001b[39m     expect(box)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 160 |\u001b[39m     \u001b[36mif\u001b[39m (box) {"},{"title":"Expect \"toBeLessThanOrEqual\"","startTime":"2026-01-14T01:27:30.571Z","duration":0,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":162,"column":48},"count":1,"skipped":false,"snippet":" \u001b[90m 161 |\u001b[39m       \u001b[90m// Allow small variance for border\u001b[39m\n \u001b[90m 162 |\u001b[39m       expect(\u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mabs(box\u001b[33m.\u001b[39mwidth \u001b[33m-\u001b[39m fixedWidth))\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 163 |\u001b[39m       expect(\u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mabs(box\u001b[33m.\u001b[39mheight \u001b[33m-\u001b[39m fixedHeight))\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeLessThanOrEqual\"","startTime":"2026-01-14T01:27:30.572Z","duration":0,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":163,"column":50},"count":1,"skipped":false,"snippet":" \u001b[90m 162 |\u001b[39m       expect(\u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mabs(box\u001b[33m.\u001b[39mwidth \u001b[33m-\u001b[39m fixedWidth))\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 163 |\u001b[39m       expect(\u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mabs(box\u001b[33m.\u001b[39mheight \u001b[33m-\u001b[39m fixedHeight))\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 164 |\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:30.572Z","duration":392,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-14T01:27:30.573Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-14T01:27:30.573Z","duration":384,"steps":[{"title":"Close context","startTime":"2026-01-14T01:27:30.677Z","duration":280,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Fixed embed size: 644x364 (expected 640x360)\n"}]}],"ok":true},{"testId":"47d868bc0e718fe28b50-dfd2a46ae7f483a56d0f","title":"5.4: Embed Sync Matches Watch Page","projectName":"chromium","location":{"file":"05-embed-functionality.spec.ts","line":169,"column":7},"duration":7544,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 5: Embed Functionality"],"results":[{"duration":7544,"startTime":"2026-01-14T01:27:30.964Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:30.965Z","duration":81,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-14T01:27:30.972Z","duration":6,"steps":[{"title":"Create context","startTime":"2026-01-14T01:27:30.974Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-14T01:27:30.978Z","duration":68,"steps":[{"title":"Create page","startTime":"2026-01-14T01:27:30.980Z","duration":66,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Create page","startTime":"2026-01-14T01:27:31.047Z","duration":73,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":176,"column":37},"count":1,"skipped":false,"snippet":" \u001b[90m 175 |\u001b[39m     \u001b[90m// Step 1: Open watch page in one tab\u001b[39m\n \u001b[90m 176 |\u001b[39m     \u001b[36mconst\u001b[39m watchPage \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m context\u001b[33m.\u001b[39mnewPage()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 177 |\u001b[39m     \u001b[36mawait\u001b[39m watchPage\u001b[33m.\u001b[39mgoto(endpoints\u001b[33m.\u001b[39mwatch(testStream\u001b[33m.\u001b[39mslug))\u001b[33m;\u001b[39m"},{"title":"Navigate to \"/watch/e2e-embed-test\"","startTime":"2026-01-14T01:27:31.121Z","duration":345,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":177,"column":21},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m     \u001b[36mconst\u001b[39m watchPage \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m context\u001b[33m.\u001b[39mnewPage()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m     \u001b[36mawait\u001b[39m watchPage\u001b[33m.\u001b[39mgoto(endpoints\u001b[33m.\u001b[39mwatch(testStream\u001b[33m.\u001b[39mslug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     \u001b[36mawait\u001b[39m watchPage\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m3000\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-14T01:27:31.467Z","duration":3001,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":178,"column":21},"count":1,"skipped":false,"snippet":" \u001b[90m 177 |\u001b[39m     \u001b[36mawait\u001b[39m watchPage\u001b[33m.\u001b[39mgoto(endpoints\u001b[33m.\u001b[39mwatch(testStream\u001b[33m.\u001b[39mslug))\u001b[33m;\u001b[39m\n \u001b[90m 178 |\u001b[39m     \u001b[36mawait\u001b[39m watchPage\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m3000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 179 |\u001b[39m"},{"title":"Create page","startTime":"2026-01-14T01:27:34.469Z","duration":65,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":181,"column":37},"count":1,"skipped":false,"snippet":" \u001b[90m 180 |\u001b[39m     \u001b[90m// Step 2: Open embed page in another tab\u001b[39m\n \u001b[90m 181 |\u001b[39m     \u001b[36mconst\u001b[39m embedPage \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m context\u001b[33m.\u001b[39mnewPage()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 182 |\u001b[39m     \u001b[36mawait\u001b[39m embedPage\u001b[33m.\u001b[39mgoto(endpoints\u001b[33m.\u001b[39membed(testStream\u001b[33m.\u001b[39mslug))\u001b[33m;\u001b[39m"},{"title":"Navigate to \"/embed/e2e-embed-test\"","startTime":"2026-01-14T01:27:34.535Z","duration":263,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":182,"column":21},"count":1,"skipped":false,"snippet":" \u001b[90m 181 |\u001b[39m     \u001b[36mconst\u001b[39m embedPage \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m context\u001b[33m.\u001b[39mnewPage()\u001b[33m;\u001b[39m\n \u001b[90m 182 |\u001b[39m     \u001b[36mawait\u001b[39m embedPage\u001b[33m.\u001b[39mgoto(endpoints\u001b[33m.\u001b[39membed(testStream\u001b[33m.\u001b[39mslug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 183 |\u001b[39m     \u001b[36mawait\u001b[39m embedPage\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m3000\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-14T01:27:34.799Z","duration":3002,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":183,"column":21},"count":1,"skipped":false,"snippet":" \u001b[90m 182 |\u001b[39m     \u001b[36mawait\u001b[39m embedPage\u001b[33m.\u001b[39mgoto(endpoints\u001b[33m.\u001b[39membed(testStream\u001b[33m.\u001b[39mslug))\u001b[33m;\u001b[39m\n \u001b[90m 183 |\u001b[39m     \u001b[36mawait\u001b[39m embedPage\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m3000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 184 |\u001b[39m"},{"title":"Evaluate","startTime":"2026-01-14T01:27:37.801Z","duration":4,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":187,"column":16},"count":2,"skipped":false,"snippet":" \u001b[90m 186 |\u001b[39m     \u001b[36mconst\u001b[39m getPlayerTime \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (p\u001b[33m:\u001b[39m \u001b[36mtypeof\u001b[39m page) \u001b[33m=>\u001b[39m {\n \u001b[90m 187 |\u001b[39m       \u001b[36mreturn\u001b[39m p\u001b[33m.\u001b[39mevaluate(() \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 188 |\u001b[39m         \u001b[36mconst\u001b[39m muxPlayer \u001b[33m=\u001b[39m document\u001b[33m.\u001b[39mquerySelector(\u001b[32m'mux-player'\u001b[39m) \u001b[36mas\u001b[39m \u001b[33mHTMLVideoElement\u001b[39m \u001b[33m|\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Close page","startTime":"2026-01-14T01:27:37.807Z","duration":8,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":200,"column":21},"count":1,"skipped":false,"snippet":" \u001b[90m 199 |\u001b[39m     \u001b[90m// Close extra pages\u001b[39m\n \u001b[90m 200 |\u001b[39m     \u001b[36mawait\u001b[39m watchPage\u001b[33m.\u001b[39mclose()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 201 |\u001b[39m     \u001b[36mawait\u001b[39m embedPage\u001b[33m.\u001b[39mclose()\u001b[33m;\u001b[39m"},{"title":"Close page","startTime":"2026-01-14T01:27:37.816Z","duration":10,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":201,"column":21},"count":1,"skipped":false,"snippet":" \u001b[90m 200 |\u001b[39m     \u001b[36mawait\u001b[39m watchPage\u001b[33m.\u001b[39mclose()\u001b[33m;\u001b[39m\n \u001b[90m 201 |\u001b[39m     \u001b[36mawait\u001b[39m embedPage\u001b[33m.\u001b[39mclose()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 202 |\u001b[39m"},{"title":"Expect \"toBeLessThanOrEqual\"","startTime":"2026-01-14T01:27:37.827Z","duration":0,"steps":[],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":209,"column":26},"count":1,"skipped":false,"snippet":" \u001b[90m 208 |\u001b[39m       \u001b[90m// Allow 5 second tolerance (accounts for load time differences)\u001b[39m\n \u001b[90m 209 |\u001b[39m       expect(difference)\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                         ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 210 |\u001b[39m     } \u001b[36melse\u001b[39m {"},{"title":"After Hooks","startTime":"2026-01-14T01:27:37.827Z","duration":830,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-14T01:27:37.828Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-14T01:27:37.828Z","duration":690,"steps":[{"title":"Close context","startTime":"2026-01-14T01:27:37.883Z","duration":635,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"afterAll hook","startTime":"2026-01-14T01:27:38.523Z","duration":134,"steps":[{"title":"DELETE \"/api/streams/cmkdcc7h6007jod2m8w14j4dh\"","startTime":"2026-01-14T01:27:38.529Z","duration":120,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"}],"attachments":[],"location":{"file":"05-embed-functionality.spec.ts","line":40,"column":8},"count":1,"skipped":false,"snippet":" \u001b[90m  39 |\u001b[39m\n \u001b[90m  40 |\u001b[39m   test\u001b[33m.\u001b[39mafterAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  41 |\u001b[39m     \u001b[36mif\u001b[39m (testStream) \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mdeleteStream(testStream\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m"}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Watch time: 851.9s, Embed time: 851.8s, Diff: 0.1s\n"}]}],"ok":true}]}