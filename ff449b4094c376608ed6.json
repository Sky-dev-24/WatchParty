{"fileId":"ff449b4094c376608ed6","fileName":"07-api-validation.spec.ts","tests":[{"testId":"ff449b4094c376608ed6-a339637932aa3e4a9b63","title":"7.1: GET /api/streams","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":23,"column":7},"duration":32,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":32,"startTime":"2026-01-13T23:52:58.640Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:58.641Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Create request context","startTime":"2026-01-13T23:52:58.645Z","duration":1,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":19,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  18 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mapiContext) {\n \u001b[90m  19 |\u001b[39m     apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  20 |\u001b[39m       baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl\u001b[33m,\u001b[39m"},{"title":"GET \"/api/streams\"","startTime":"2026-01-13T23:52:58.647Z","duration":26,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:58.674Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":29,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m  28 |\u001b[39m     \u001b[90m// Expected Result: HTTP 200, JSON array of streams\u001b[39m\n \u001b[90m  29 |\u001b[39m     expect(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(streams))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  30 |\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:52:58.675Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":34,"column":25},"count":1,"skipped":false,"snippet":" \u001b[90m  33 |\u001b[39m       \u001b[36mconst\u001b[39m stream \u001b[33m=\u001b[39m streams[\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n \u001b[90m  34 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                        ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  35 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mslug)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:52:58.675Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":35,"column":27},"count":1,"skipped":false,"snippet":" \u001b[90m  34 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m  35 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mslug)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                          ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  36 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:52:58.676Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":36,"column":28},"count":1,"skipped":false,"snippet":" \u001b[90m  35 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mslug)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m  36 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                           ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  37 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mscheduledStart)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:52:58.676Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":37,"column":37},"count":1,"skipped":false,"snippet":" \u001b[90m  36 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m  37 |\u001b[39m       expect(stream\u001b[33m.\u001b[39mscheduledStart)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  38 |\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:58.676Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Retrieved 1 streams, Cached: true\n"}]}],"ok":true},{"testId":"ff449b4094c376608ed6-98e10cdd350c05ec854c","title":"7.2: POST /api/streams - Unauthorized","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":50,"column":7},"duration":167,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":167,"startTime":"2026-01-13T23:52:58.681Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:58.682Z","duration":6,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Create request context","startTime":"2026-01-13T23:52:58.691Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":55,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m  54 |\u001b[39m     \u001b[90m// Step 2: Make POST request without auth\u001b[39m\n \u001b[90m  55 |\u001b[39m     \u001b[36mconst\u001b[39m apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({ baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  56 |\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-13T23:52:58.693Z","duration":27,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":57,"column":39},"count":1,"skipped":false,"snippet":" \u001b[90m  56 |\u001b[39m\n \u001b[90m  57 |\u001b[39m     \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m apiContext\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                      ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  58 |\u001b[39m       data\u001b[33m:\u001b[39m {"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:58.720Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":69,"column":31},"count":1,"skipped":false,"snippet":" \u001b[90m  68 |\u001b[39m     \u001b[90m// Expected Result: HTTP 401 Unauthorized\u001b[39m\n \u001b[90m  69 |\u001b[39m     expect(response\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                              ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  70 |\u001b[39m"},{"title":"Create request context","startTime":"2026-01-13T23:52:58.722Z","duration":0,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":19,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  18 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mapiContext) {\n \u001b[90m  19 |\u001b[39m     apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  20 |\u001b[39m       baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl\u001b[33m,\u001b[39m"},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-13T23:52:58.723Z","duration":131,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:58.855Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[]}],"ok":true},{"testId":"ff449b4094c376608ed6-8eb6e3056b3d11d23e83","title":"7.3: POST /api/streams - Invalid Body","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":77,"column":7},"duration":135,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":135,"startTime":"2026-01-13T23:52:58.859Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:58.860Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-13T23:52:58.865Z","duration":104,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-13T23:52:58.970Z","duration":26,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeGreaterThanOrEqual\"","startTime":"2026-01-13T23:52:58.997Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":91,"column":27},"count":1,"skipped":false,"snippet":" \u001b[90m  90 |\u001b[39m     \u001b[90m// Expected Result: HTTP 400 Bad Request\u001b[39m\n \u001b[90m  91 |\u001b[39m     expect(result\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                          ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  92 |\u001b[39m     expect(result\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:52:58.998Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":92,"column":26},"count":1,"skipped":false,"snippet":" \u001b[90m  91 |\u001b[39m     expect(result\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m  92 |\u001b[39m     expect(result\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                         ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  93 |\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:58.998Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Validation error: Missing required fields: slug, title, assetIds (array), scheduledStart\n"}]}],"ok":true},{"testId":"ff449b4094c376608ed6-5f06d2683c3888e3fc8f","title":"7.4: PATCH /api/streams/[id]","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":97,"column":7},"duration":697,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":697,"startTime":"2026-01-13T23:52:59.003Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:59.005Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"GET \"/api/mux/assets?limit=1\"","startTime":"2026-01-13T23:52:59.010Z","duration":166,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-13T23:52:59.177Z","duration":256,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:52:59.434Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":114,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 113 |\u001b[39m\n \u001b[90m 114 |\u001b[39m     expect(createResult\u001b[33m.\u001b[39mstream)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 115 |\u001b[39m     \u001b[36mconst\u001b[39m streamId \u001b[33m=\u001b[39m createResult\u001b[33m.\u001b[39mstream\u001b[33m!\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m"},{"title":"PATCH \"/api/streams/cmkd8yu7p0010od2kkvvexw0j\"","startTime":"2026-01-13T23:52:59.435Z","duration":118,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeLessThan\"","startTime":"2026-01-13T23:52:59.554Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":123,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 122 |\u001b[39m     \u001b[90m// Expected Result: HTTP 200, stream updated\u001b[39m\n \u001b[90m 123 |\u001b[39m     expect(patchResult\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 124 |\u001b[39m     expect(patchResult\u001b[33m.\u001b[39mstream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(newTitle)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:59.554Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":124,"column":39},"count":1,"skipped":false,"snippet":" \u001b[90m 123 |\u001b[39m     expect(patchResult\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 124 |\u001b[39m     expect(patchResult\u001b[33m.\u001b[39mstream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(newTitle)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                      ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 125 |\u001b[39m"},{"title":"GET \"/api/streams/cmkd8yu7p0010od2kkvvexw0j\"","startTime":"2026-01-13T23:52:59.555Z","duration":31,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":113,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 112 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 113 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(idOrSlug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 114 |\u001b[39m   \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mstatus() \u001b[33m===\u001b[39m \u001b[35m404\u001b[39m) \u001b[36mreturn\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:59.587Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":128,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m     \u001b[36mconst\u001b[39m verifyStream \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mgetStream(streamId)\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m     expect(verifyStream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(newTitle)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m"},{"title":"DELETE \"/api/streams/cmkd8yu7p0010od2kkvvexw0j\"","startTime":"2026-01-13T23:52:59.587Z","duration":118,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:59.706Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[]}],"ok":true},{"testId":"ff449b4094c376608ed6-a9dd54d18773f058d206","title":"7.5: DELETE /api/streams/[id]","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":134,"column":7},"duration":584,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":584,"startTime":"2026-01-13T23:52:59.710Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:59.711Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"GET \"/api/mux/assets?limit=1\"","startTime":"2026-01-13T23:52:59.716Z","duration":169,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-13T23:52:59.886Z","duration":258,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:53:00.145Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":151,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 150 |\u001b[39m\n \u001b[90m 151 |\u001b[39m     expect(createResult\u001b[33m.\u001b[39mstream)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 152 |\u001b[39m     \u001b[36mconst\u001b[39m streamId \u001b[33m=\u001b[39m createResult\u001b[33m.\u001b[39mstream\u001b[33m!\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m"},{"title":"DELETE \"/api/streams/cmkd8yur90015od2ky6rqqp9h\"","startTime":"2026-01-13T23:53:00.146Z","duration":122,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:53:00.269Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":159,"column":34},"count":1,"skipped":false,"snippet":" \u001b[90m 158 |\u001b[39m     \u001b[90m// Expected Result: DELETE returns 200 or 204\u001b[39m\n \u001b[90m 159 |\u001b[39m     expect(deleteResult\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 160 |\u001b[39m"},{"title":"GET \"/api/streams/cmkd8yur90015od2ky6rqqp9h\"","startTime":"2026-01-13T23:53:00.270Z","duration":28,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":113,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 112 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 113 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(idOrSlug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 114 |\u001b[39m   \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mstatus() \u001b[33m===\u001b[39m \u001b[35m404\u001b[39m) \u001b[36mreturn\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeNull\"","startTime":"2026-01-13T23:53:00.298Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":163,"column":27},"count":1,"skipped":false,"snippet":" \u001b[90m 162 |\u001b[39m     \u001b[36mconst\u001b[39m deletedStream \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mgetStream(streamId)\u001b[33m;\u001b[39m\n \u001b[90m 163 |\u001b[39m     expect(deletedStream)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                          ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 164 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:53:00.298Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[]}],"ok":true},{"testId":"ff449b4094c376608ed6-130fd2a7e9de94ecfffa","title":"7.6: GET /api/streams/[id]/status","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":166,"column":7},"duration":65,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":65,"startTime":"2026-01-13T23:53:00.303Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:53:00.304Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"GET \"/api/streams\"","startTime":"2026-01-13T23:53:00.309Z","duration":29,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"GET \"/api/streams/cmk4k3ot90005pg2khpayrw93/status\"","startTime":"2026-01-13T23:53:00.339Z","duration":29,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":186,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 185 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 186 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreamStatus(idOrSlug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 187 |\u001b[39m   \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mstatus() \u001b[33m===\u001b[39m \u001b[35m404\u001b[39m) \u001b[36mreturn\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Expect \"not toBeNull\"","startTime":"2026-01-13T23:53:00.369Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":184,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m 183 |\u001b[39m     \u001b[90m// Expected Result: HTTP 200, JSON with endedAt and isActive\u001b[39m\n \u001b[90m 184 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 185 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'endedAt'\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toHaveProperty\"","startTime":"2026-01-13T23:53:00.370Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":185,"column":20},"count":1,"skipped":false,"snippet":" \u001b[90m 184 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n \u001b[90m 185 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'endedAt'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 186 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'isActive'\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toHaveProperty\"","startTime":"2026-01-13T23:53:00.371Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":186,"column":20},"count":1,"skipped":false,"snippet":" \u001b[90m 185 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'endedAt'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 186 |\u001b[39m     expect(status)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'isActive'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 187 |\u001b[39m"},{"title":"Expect \"toBeLessThan\"","startTime":"2026-01-13T23:53:00.371Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":191,"column":22},"count":1,"skipped":false,"snippet":" \u001b[90m 190 |\u001b[39m     \u001b[90m// Should be under 500ms ideally (allowing for network)\u001b[39m\n \u001b[90m 191 |\u001b[39m     expect(duration)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m5000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                     ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 192 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:53:00.372Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":194,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 193 |\u001b[39m     \u001b[90m// Verification: Fields match stream state\u001b[39m\n \u001b[90m 194 |\u001b[39m     expect(status\u001b[33m!\u001b[39m\u001b[33m.\u001b[39misActive)\u001b[33m.\u001b[39mtoBe(stream\u001b[33m.\u001b[39misActive)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 195 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:53:00.372Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Status endpoint response time: 30ms\n"}]}],"ok":true},{"testId":"ff449b4094c376608ed6-871327271a7bf509b8a8","title":"7.7: GET /api/streams/[id]/events (SSE)","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":197,"column":7},"duration":66,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":66,"startTime":"2026-01-13T23:53:00.377Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:53:00.378Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"GET \"/api/streams\"","startTime":"2026-01-13T23:53:00.383Z","duration":30,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"Create request context","startTime":"2026-01-13T23:53:00.414Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":208,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m 207 |\u001b[39m     \u001b[90m// Create a raw HTTP request context for SSE\u001b[39m\n \u001b[90m 208 |\u001b[39m     \u001b[36mconst\u001b[39m apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({ baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 209 |\u001b[39m"},{"title":"GET \"/api/streams/cmk4k3ot90005pg2khpayrw93/events\"","startTime":"2026-01-13T23:53:00.416Z","duration":30,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":211,"column":39},"count":1,"skipped":false,"snippet":" \u001b[90m 210 |\u001b[39m     \u001b[90m// Step 1: Connect to SSE endpoint\u001b[39m\n \u001b[90m 211 |\u001b[39m     \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m apiContext\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreamEvents(activeStream\u001b[33m.\u001b[39mid)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                      ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 212 |\u001b[39m       headers\u001b[33m:\u001b[39m { \u001b[33mAccept\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'text/event-stream'\u001b[39m }\u001b[33m,\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:53:00.447Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":218,"column":31},"count":1,"skipped":false,"snippet":" \u001b[90m 217 |\u001b[39m     \u001b[90m// Expected Result: Connection established\u001b[39m\n \u001b[90m 218 |\u001b[39m     expect(response\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                              ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 219 |\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:53:00.449Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"SSE endpoint content-type: text/event-stream, Is SSE: true\nSSE response preview: event: stopped\ndata: {\"endedAt\":\"2026-01-07T22:02:44.676Z\"}\n\n\n"}]}],"ok":true},{"testId":"ff449b4094c376608ed6-1ffb997dc48d57b16acd","title":"7.8: POST /api/admin/login - Rate Limit Headers","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":235,"column":7},"duration":1,"annotations":[{"type":"skip","description":"Rate limit test is disabled by default. Set RUN_RATE_LIMIT_TESTS=true to enable.","location":{"file":"C:\\Users\\Sky.TLC\\simulive-test\\e2e\\tests\\07-api-validation.spec.ts","line":236,"column":10}}],"tags":[],"outcome":"skipped","path":["Suite 7: API Validation"],"results":[{"duration":1,"startTime":"2026-01-13T23:53:00.454Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:53:00.455Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"After Hooks","startTime":"2026-01-13T23:53:00.460Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"skipped","annotations":[{"type":"skip","description":"Rate limit test is disabled by default. Set RUN_RATE_LIMIT_TESTS=true to enable.","location":{"file":"C:\\Users\\Sky.TLC\\simulive-test\\e2e\\tests\\07-api-validation.spec.ts","line":236,"column":10}}],"attachments":[]}],"ok":false},{"testId":"ff449b4094c376608ed6-fde06e4eecd8d0af244b","title":"7.9: GET /api/admin/audit - Filtering","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":266,"column":7},"duration":163,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":163,"startTime":"2026-01-13T23:53:00.465Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:53:00.466Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-13T23:53:00.473Z","duration":128,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"GET \"/api/admin/audit?event=LOGIN_SUCCESS&limit=10\"","startTime":"2026-01-13T23:53:00.603Z","duration":27,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":206,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 205 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.audit}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 207 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:53:00.631Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":278,"column":31},"count":1,"skipped":false,"snippet":" \u001b[90m 277 |\u001b[39m     \u001b[90m// Expected Result: Filtered results returned\u001b[39m\n \u001b[90m 278 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mlogs)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                              ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 279 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mlimit)\u001b[33m.\u001b[39mtoBe(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:53:00.632Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":279,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 278 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mlogs)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m 279 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mlimit)\u001b[33m.\u001b[39mtoBe(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 280 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:53:00.632Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":284,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m 283 |\u001b[39m       \u001b[36mconst\u001b[39m allMatch \u001b[33m=\u001b[39m filteredLogs\u001b[33m.\u001b[39mlogs\u001b[33m.\u001b[39mevery((log) \u001b[33m=>\u001b[39m log\u001b[33m.\u001b[39mevent \u001b[33m===\u001b[39m \u001b[32m'LOGIN_SUCCESS'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 284 |\u001b[39m       expect(allMatch)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 285 |\u001b[39m     }"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:53:00.633Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":288,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m 287 |\u001b[39m     \u001b[90m// Verification: Response has pagination fields\u001b[39m\n \u001b[90m 288 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mtotal)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 289 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39moffset)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:53:00.633Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":289,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 288 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39mtotal)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m 289 |\u001b[39m     expect(filteredLogs\u001b[33m.\u001b[39moffset)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 290 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:53:00.633Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[]}],"ok":true},{"testId":"ff449b4094c376608ed6-900e98d4e1073f0942c1","title":"7.10: GET /api/mux/assets","projectName":"chromium","location":{"file":"07-api-validation.spec.ts","line":292,"column":7},"duration":588,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 7: API Validation"],"results":[{"duration":588,"startTime":"2026-01-13T23:53:00.638Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:53:00.639Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-13T23:53:00.644Z","duration":131,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"GET \"/api/mux/assets?limit=10\"","startTime":"2026-01-13T23:53:00.777Z","duration":451,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:53:01.229Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":301,"column":35},"count":1,"skipped":false,"snippet":" \u001b[90m 300 |\u001b[39m     \u001b[90m// Expected Result: HTTP 200, array of assets\u001b[39m\n \u001b[90m 301 |\u001b[39m     expect(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(assets))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                  ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 302 |\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:53:01.229Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":306,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m 305 |\u001b[39m       \u001b[36mconst\u001b[39m asset \u001b[33m=\u001b[39m assets[\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n \u001b[90m 306 |\u001b[39m       expect(asset\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 307 |\u001b[39m       expect(asset\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:53:01.230Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":307,"column":28},"count":1,"skipped":false,"snippet":" \u001b[90m 306 |\u001b[39m       expect(asset\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m 307 |\u001b[39m       expect(asset\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                           ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 308 |\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-13T23:53:01.230Z","duration":1,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":312,"column":45},"count":1,"skipped":false,"snippet":" \u001b[90m 311 |\u001b[39m       \u001b[36mif\u001b[39m (readyAssets\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m) {\n \u001b[90m 312 |\u001b[39m         expect(readyAssets[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mplayback_ids)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                            ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 313 |\u001b[39m         expect(readyAssets[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mplayback_ids\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeGreaterThan\"","startTime":"2026-01-13T23:53:01.231Z","duration":0,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":313,"column":52},"count":1,"skipped":false,"snippet":" \u001b[90m 312 |\u001b[39m         expect(readyAssets[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mplayback_ids)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m 313 |\u001b[39m         expect(readyAssets[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mplayback_ids\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 314 |\u001b[39m       }"},{"title":"After Hooks","startTime":"2026-01-13T23:53:01.231Z","duration":19,"steps":[{"title":"afterAll hook","startTime":"2026-01-13T23:53:01.238Z","duration":12,"steps":[],"attachments":[],"location":{"file":"07-api-validation.spec.ts","line":19,"column":8},"count":1,"skipped":false,"snippet":" \u001b[90m  18 |\u001b[39m test\u001b[33m.\u001b[39mdescribe(\u001b[32m'Suite 7: API Validation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m  19 |\u001b[39m   test\u001b[33m.\u001b[39mafterAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  20 |\u001b[39m     \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mdisposeApiContext()\u001b[33m;\u001b[39m"}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Retrieved 10 Mux assets\n"}]}],"ok":true}]}