{"fileId":"fcc22cce49ed7706f2d4","fileName":"04-viewer-experience.spec.ts","tests":[{"testId":"fcc22cce49ed7706f2d4-006928928bb9787e297c","title":"4.1: Home Page - Stream Listing","projectName":"chromium","location":{"file":"04-viewer-experience.spec.ts","line":99,"column":7},"duration":468,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 4: Viewer Experience"],"results":[{"duration":468,"startTime":"2026-01-13T23:52:15.806Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:15.811Z","duration":1547,"steps":[{"title":"beforeAll hook","startTime":"2026-01-13T23:52:15.811Z","duration":1478,"steps":[{"title":"Create request context","startTime":"2026-01-13T23:52:15.830Z","duration":6,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":19,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  18 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mapiContext) {\n \u001b[90m  19 |\u001b[39m     apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  20 |\u001b[39m       baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl\u001b[33m,\u001b[39m"},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-13T23:52:15.838Z","duration":34,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"GET \"/api/mux/assets?limit=5\"","startTime":"2026-01-13T23:52:15.873Z","duration":483,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-13T23:52:16.357Z","duration":181,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"PATCH \"/api/streams/cmkd8xx69002ood2ltrmmx6qx\"","startTime":"2026-01-13T23:52:16.540Z","duration":48,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-13T23:52:16.590Z","duration":180,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"PATCH \"/api/streams/cmkd8xxcq002sod2lkmyu1jfj\"","startTime":"2026-01-13T23:52:16.771Z","duration":41,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-13T23:52:16.813Z","duration":173,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"PATCH \"/api/streams/cmkd8xxiq002wod2lepwp1t3i\"","startTime":"2026-01-13T23:52:16.988Z","duration":39,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-13T23:52:17.029Z","duration":212,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"PATCH \"/api/streams/cmkd8xxoz0030od2lwjbrpvwp\"","startTime":"2026-01-13T23:52:17.243Z","duration":40,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"}],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":20,"column":8},"count":1,"skipped":false,"snippet":" \u001b[90m  19 |\u001b[39m test\u001b[33m.\u001b[39mdescribe(\u001b[32m'Suite 4: Viewer Experience'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m  20 |\u001b[39m   test\u001b[33m.\u001b[39mbeforeAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  21 |\u001b[39m     \u001b[90m// Login for stream creation\u001b[39m"},{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:17.295Z","duration":4,"steps":[{"title":"Create context","startTime":"2026-01-13T23:52:17.295Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:17.299Z","duration":59,"steps":[{"title":"Create page","startTime":"2026-01-13T23:52:17.300Z","duration":57,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/\"","startTime":"2026-01-13T23:52:17.359Z","duration":205,"steps":[],"attachments":[],"location":{"file":"../lib/test-helpers.ts","line":9,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m navigateTo(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m\u001b[33m,\u001b[39m path\u001b[33m:\u001b[39m string)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(path\u001b[33m,\u001b[39m { waitUntil\u001b[33m:\u001b[39m \u001b[32m'domcontentloaded'\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  10 |\u001b[39m }"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:17.593Z","duration":0,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":113,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m 112 |\u001b[39m\n \u001b[90m 113 |\u001b[39m     expect(hasContent)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 114 |\u001b[39m"},{"title":"Query count locator('a[href^=\"/watch/\"]')","startTime":"2026-01-13T23:52:17.594Z","duration":2,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":117,"column":41},"count":1,"skipped":false,"snippet":" \u001b[90m 116 |\u001b[39m     \u001b[36mconst\u001b[39m streamLinks \u001b[33m=\u001b[39m page\u001b[33m.\u001b[39mlocator(\u001b[32m'a[href^=\"/watch/\"]'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 117 |\u001b[39m     \u001b[36mconst\u001b[39m linkCount \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m streamLinks\u001b[33m.\u001b[39mcount()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                        ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 118 |\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:17.596Z","duration":174,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:17.596Z","duration":1,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:17.597Z","duration":166,"steps":[{"title":"Close context","startTime":"2026-01-13T23:52:17.665Z","duration":98,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Found 0 stream links on home page\n"}]}],"ok":true},{"testId":"fcc22cce49ed7706f2d4-d846ea9a2cd3ec90adba","title":"4.2: Watch Page - Countdown","projectName":"chromium","location":{"file":"04-viewer-experience.spec.ts","line":128,"column":7},"duration":1554,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 4: Viewer Experience"],"results":[{"duration":1554,"startTime":"2026-01-13T23:52:17.770Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:17.771Z","duration":70,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:17.777Z","duration":6,"steps":[{"title":"Create context","startTime":"2026-01-13T23:52:17.777Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:17.783Z","duration":58,"steps":[{"title":"Create page","startTime":"2026-01-13T23:52:17.784Z","duration":57,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/watch/e2e-viewer-upcoming\"","startTime":"2026-01-13T23:52:17.843Z","duration":156,"steps":[],"attachments":[],"location":{"file":"../lib/test-helpers.ts","line":9,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m navigateTo(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m\u001b[33m,\u001b[39m path\u001b[33m:\u001b[39m string)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(path\u001b[33m,\u001b[39m { waitUntil\u001b[33m:\u001b[39m \u001b[32m'domcontentloaded'\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  10 |\u001b[39m }"},{"title":"Wait for timeout","startTime":"2026-01-13T23:52:18.000Z","duration":1002,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":138,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 137 |\u001b[39m     \u001b[90m// Step 2: Observe countdown display\u001b[39m\n \u001b[90m 138 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 139 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:19.022Z","duration":0,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":152,"column":69},"count":1,"skipped":false,"snippet":" \u001b[90m 151 |\u001b[39m     \u001b[90m// The page should show something about the stream not being live yet\u001b[39m\n \u001b[90m 152 |\u001b[39m     expect(hasCountdown \u001b[33m||\u001b[39m pageText\u001b[33m.\u001b[39mtoLowerCase()\u001b[33m.\u001b[39mincludes(\u001b[32m'wait'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 153 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:19.022Z","duration":0,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":156,"column":26},"count":1,"skipped":false,"snippet":" \u001b[90m 155 |\u001b[39m     \u001b[36mconst\u001b[39m hasLiveBadge \u001b[33m=\u001b[39m badges\u001b[33m.\u001b[39mlive\u001b[33m.\u001b[39msome((badge) \u001b[33m=>\u001b[39m pageText\u001b[33m.\u001b[39mincludes(badge))\u001b[33m;\u001b[39m\n \u001b[90m 156 |\u001b[39m     expect(hasLiveBadge)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                         ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 157 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:19.023Z","duration":313,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:19.023Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:19.023Z","duration":308,"steps":[{"title":"Close context","startTime":"2026-01-13T23:52:19.242Z","duration":89,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[]}],"ok":true},{"testId":"fcc22cce49ed7706f2d4-7112dc053426beb36cb7","title":"4.3: Watch Page - Live Stream","projectName":"chromium","location":{"file":"04-viewer-experience.spec.ts","line":159,"column":7},"duration":2469,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 4: Viewer Experience"],"results":[{"duration":2469,"startTime":"2026-01-13T23:52:19.336Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:19.338Z","duration":67,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:19.342Z","duration":4,"steps":[{"title":"Create context","startTime":"2026-01-13T23:52:19.343Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:19.347Z","duration":58,"steps":[{"title":"Create page","startTime":"2026-01-13T23:52:19.347Z","duration":58,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/watch/e2e-viewer-live\"","startTime":"2026-01-13T23:52:19.407Z","duration":168,"steps":[],"attachments":[],"location":{"file":"../lib/test-helpers.ts","line":9,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m navigateTo(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m\u001b[33m,\u001b[39m path\u001b[33m:\u001b[39m string)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(path\u001b[33m,\u001b[39m { waitUntil\u001b[33m:\u001b[39m \u001b[32m'domcontentloaded'\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  10 |\u001b[39m }"},{"title":"Wait for timeout","startTime":"2026-01-13T23:52:19.576Z","duration":2001,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":169,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 168 |\u001b[39m     \u001b[90m// Step 2: Observe player\u001b[39m\n \u001b[90m 169 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m2000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Allow player to load\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 170 |\u001b[39m"},{"title":"Query count locator('[data-testid=\"video-player\"], .mux-player, mux-player')","startTime":"2026-01-13T23:52:21.609Z","duration":4,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":175,"column":37},"count":1,"skipped":false,"snippet":" \u001b[90m 174 |\u001b[39m     \u001b[36mconst\u001b[39m player \u001b[33m=\u001b[39m page\u001b[33m.\u001b[39mlocator(selectors\u001b[33m.\u001b[39mvideoPlayer)\u001b[33m;\u001b[39m\n \u001b[90m 175 |\u001b[39m     \u001b[36mconst\u001b[39m hasPlayer \u001b[33m=\u001b[39m (\u001b[36mawait\u001b[39m player\u001b[33m.\u001b[39mcount()) \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 176 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:21.614Z","duration":0,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":185,"column":22},"count":1,"skipped":false,"snippet":" \u001b[90m 184 |\u001b[39m\n \u001b[90m 185 |\u001b[39m     expect(hasError)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                     ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 186 |\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:21.614Z","duration":203,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:21.615Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:21.615Z","duration":197,"steps":[{"title":"Close context","startTime":"2026-01-13T23:52:21.705Z","duration":107,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Player found: true, Live indicator: true\n"}]}],"ok":true},{"testId":"fcc22cce49ed7706f2d4-c40d7825ae19e6c89190","title":"4.4: Watch Page - Ended Stream","projectName":"chromium","location":{"file":"04-viewer-experience.spec.ts","line":191,"column":7},"duration":1438,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 4: Viewer Experience"],"results":[{"duration":1438,"startTime":"2026-01-13T23:52:21.817Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:21.818Z","duration":64,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:21.823Z","duration":4,"steps":[{"title":"Create context","startTime":"2026-01-13T23:52:21.824Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:21.827Z","duration":55,"steps":[{"title":"Create page","startTime":"2026-01-13T23:52:21.828Z","duration":54,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/watch/e2e-viewer-ended\"","startTime":"2026-01-13T23:52:21.883Z","duration":167,"steps":[],"attachments":[],"location":{"file":"../lib/test-helpers.ts","line":9,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m navigateTo(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m\u001b[33m,\u001b[39m path\u001b[33m:\u001b[39m string)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(path\u001b[33m,\u001b[39m { waitUntil\u001b[33m:\u001b[39m \u001b[32m'domcontentloaded'\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  10 |\u001b[39m }"},{"title":"Wait for timeout","startTime":"2026-01-13T23:52:22.051Z","duration":1000,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":201,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 200 |\u001b[39m     \u001b[90m// Step 2: Observe page state\u001b[39m\n \u001b[90m 201 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 202 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:23.071Z","duration":0,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":217,"column":26},"count":1,"skipped":false,"snippet":" \u001b[90m 216 |\u001b[39m\n \u001b[90m 217 |\u001b[39m     expect(hasLiveBadge)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                         ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 218 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m`Ended indicator found: ${hasEndedIndicator}`\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:23.072Z","duration":195,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:23.072Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:23.073Z","duration":189,"steps":[{"title":"Close context","startTime":"2026-01-13T23:52:23.179Z","duration":83,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Ended indicator found: true\n"}]}],"ok":true},{"testId":"fcc22cce49ed7706f2d4-cac3e42440705d93f42a","title":"4.5: Watch Page - Non-existent Stream","projectName":"chromium","location":{"file":"04-viewer-experience.spec.ts","line":221,"column":7},"duration":1939,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 4: Viewer Experience"],"results":[{"duration":1939,"startTime":"2026-01-13T23:52:23.267Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:23.268Z","duration":65,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:23.272Z","duration":5,"steps":[{"title":"Create context","startTime":"2026-01-13T23:52:23.273Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:23.277Z","duration":56,"steps":[{"title":"Create page","startTime":"2026-01-13T23:52:23.278Z","duration":54,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/watch/non-existent-slug-12345\"","startTime":"2026-01-13T23:52:23.334Z","duration":146,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":223,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 222 |\u001b[39m     \u001b[90m// Step 1: Navigate to non-existent stream\u001b[39m\n \u001b[90m 223 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(endpoints\u001b[33m.\u001b[39mwatch(\u001b[32m'non-existent-slug-12345'\u001b[39m))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 224 |\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-13T23:52:23.481Z","duration":1001,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":226,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 225 |\u001b[39m     \u001b[90m// Step 2: Observe response\u001b[39m\n \u001b[90m 226 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 227 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:24.501Z","duration":0,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":237,"column":20},"count":1,"skipped":false,"snippet":" \u001b[90m 236 |\u001b[39m\n \u001b[90m 237 |\u001b[39m     expect(has404)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 238 |\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-13T23:52:24.501Z","duration":501,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":246,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 245 |\u001b[39m     \u001b[90m// Brief wait to catch any errors\u001b[39m\n \u001b[90m 246 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 247 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m`Console errors: ${consoleErrors.length}`\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:25.003Z","duration":214,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:25.003Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:25.003Z","duration":208,"steps":[{"title":"Close context","startTime":"2026-01-13T23:52:25.041Z","duration":170,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Console errors: 0\n"}]}],"ok":true},{"testId":"fcc22cce49ed7706f2d4-f22046f2e50056ae87d0","title":"4.6: Watch Page - Inactive Stream","projectName":"chromium","location":{"file":"04-viewer-experience.spec.ts","line":250,"column":7},"duration":1425,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 4: Viewer Experience"],"results":[{"duration":1425,"startTime":"2026-01-13T23:52:25.217Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:25.218Z","duration":62,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:25.223Z","duration":4,"steps":[{"title":"Create context","startTime":"2026-01-13T23:52:25.224Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:25.227Z","duration":53,"steps":[{"title":"Create page","startTime":"2026-01-13T23:52:25.228Z","duration":52,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/watch/e2e-viewer-inactive\"","startTime":"2026-01-13T23:52:25.281Z","duration":149,"steps":[],"attachments":[],"location":{"file":"../lib/test-helpers.ts","line":9,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m navigateTo(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m\u001b[33m,\u001b[39m path\u001b[33m:\u001b[39m string)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(path\u001b[33m,\u001b[39m { waitUntil\u001b[33m:\u001b[39m \u001b[32m'domcontentloaded'\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  10 |\u001b[39m }"},{"title":"Wait for timeout","startTime":"2026-01-13T23:52:25.431Z","duration":1002,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":260,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 259 |\u001b[39m     \u001b[90m// Step 2: Observe response\u001b[39m\n \u001b[90m 260 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 261 |\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:26.451Z","duration":1,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":271,"column":28},"count":1,"skipped":false,"snippet":" \u001b[90m 270 |\u001b[39m\n \u001b[90m 271 |\u001b[39m     expect(hasUnavailable)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                           ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 272 |\u001b[39m"},{"title":"Query count locator('[data-testid=\"video-player\"], .mux-player, mux-player')","startTime":"2026-01-13T23:52:26.452Z","duration":2,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":275,"column":38},"count":1,"skipped":false,"snippet":" \u001b[90m 274 |\u001b[39m     \u001b[36mconst\u001b[39m player \u001b[33m=\u001b[39m page\u001b[33m.\u001b[39mlocator(selectors\u001b[33m.\u001b[39mvideoPlayer)\u001b[33m;\u001b[39m\n \u001b[90m 275 |\u001b[39m     \u001b[36mconst\u001b[39m playerCount \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m player\u001b[33m.\u001b[39mcount()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                     ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 276 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m`Player elements found: ${playerCount}`\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:26.455Z","duration":198,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:26.455Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:26.455Z","duration":193,"steps":[{"title":"Close context","startTime":"2026-01-13T23:52:26.493Z","duration":155,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Player elements found: 0\n"}]}],"ok":true},{"testId":"fcc22cce49ed7706f2d4-c70bf02d7c3d0f213cba","title":"4.7: Real-Time Stop Notification (SSE)","projectName":"chromium","location":{"file":"04-viewer-experience.spec.ts","line":279,"column":7},"duration":5611,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 4: Viewer Experience"],"results":[{"duration":5611,"startTime":"2026-01-13T23:52:26.653Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:26.655Z","duration":66,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:26.659Z","duration":4,"steps":[{"title":"Create context","startTime":"2026-01-13T23:52:26.659Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:26.664Z","duration":57,"steps":[{"title":"Create page","startTime":"2026-01-13T23:52:26.665Z","duration":56,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/watch/e2e-viewer-live\"","startTime":"2026-01-13T23:52:26.722Z","duration":153,"steps":[],"attachments":[],"location":{"file":"../lib/test-helpers.ts","line":9,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m navigateTo(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m\u001b[33m,\u001b[39m path\u001b[33m:\u001b[39m string)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(path\u001b[33m,\u001b[39m { waitUntil\u001b[33m:\u001b[39m \u001b[32m'domcontentloaded'\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  10 |\u001b[39m }"},{"title":"Wait for timeout","startTime":"2026-01-13T23:52:26.876Z","duration":2000,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":287,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 286 |\u001b[39m     \u001b[36mawait\u001b[39m helpers\u001b[33m.\u001b[39mnavigateToWatch(page\u001b[33m,\u001b[39m liveStream\u001b[33m.\u001b[39mslug)\u001b[33m;\u001b[39m\n \u001b[90m 287 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m2000\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 288 |\u001b[39m"},{"title":"PATCH \"/api/streams/cmkd8xxcq002sod2lkmyu1jfj\"","startTime":"2026-01-13T23:52:28.900Z","duration":48,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Wait for timeout","startTime":"2026-01-13T23:52:28.950Z","duration":3000,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":297,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 296 |\u001b[39m     \u001b[90m// Step 3: Wait for SSE update (or poll fallback)\u001b[39m\n \u001b[90m 297 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m3000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Allow time for SSE or polling\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 298 |\u001b[39m"},{"title":"Mouse move","startTime":"2026-01-13T23:52:31.951Z","duration":7,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":300,"column":22},"count":1,"skipped":false,"snippet":" \u001b[90m 299 |\u001b[39m     \u001b[90m// Optionally trigger a check by clicking or scrolling\u001b[39m\n \u001b[90m 300 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mmouse\u001b[33m.\u001b[39mmove(\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m \u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                     ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 301 |\u001b[39m"},{"title":"PATCH \"/api/streams/cmkd8xxcq002sod2lkmyu1jfj\"","startTime":"2026-01-13T23:52:31.962Z","duration":115,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-13T23:52:32.078Z","duration":0,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":318,"column":41},"count":1,"skipped":false,"snippet":" \u001b[90m 317 |\u001b[39m     \u001b[90m// Verification is soft - SSE may not be immediately visible in UI\u001b[39m\n \u001b[90m 318 |\u001b[39m     expect(textChanged \u001b[33m||\u001b[39m showsStopped)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                        ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 319 |\u001b[39m   })\u001b[33m;\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-13T23:52:32.078Z","duration":197,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:32.078Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:32.078Z","duration":192,"steps":[{"title":"Close context","startTime":"2026-01-13T23:52:32.175Z","duration":95,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Text changed: true, Shows stopped: true\n"}]}],"ok":true},{"testId":"fcc22cce49ed7706f2d4-786c08b2a5fd2c3ecd26","title":"4.8: Player Sync Accuracy","projectName":"chromium","location":{"file":"04-viewer-experience.spec.ts","line":321,"column":7},"duration":3516,"annotations":[],"tags":[],"outcome":"unexpected","path":["Suite 4: Viewer Experience"],"results":[{"duration":3516,"startTime":"2026-01-13T23:52:32.275Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-13T23:52:32.276Z","duration":68,"steps":[{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:32.281Z","duration":4,"steps":[{"title":"Create context","startTime":"2026-01-13T23:52:32.282Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:32.285Z","duration":59,"steps":[{"title":"Create page","startTime":"2026-01-13T23:52:32.286Z","duration":57,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"GET \"/api/streams/cmkd8xxcq002sod2lkmyu1jfj\"","startTime":"2026-01-13T23:52:32.345Z","duration":48,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":113,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 112 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 113 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(idOrSlug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 114 |\u001b[39m   \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mstatus() \u001b[33m===\u001b[39m \u001b[35m404\u001b[39m) \u001b[36mreturn\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Navigate to \"/watch/e2e-viewer-live\"","startTime":"2026-01-13T23:52:32.394Z","duration":152,"steps":[],"attachments":[],"location":{"file":"../lib/test-helpers.ts","line":9,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m navigateTo(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m\u001b[33m,\u001b[39m path\u001b[33m:\u001b[39m string)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(path\u001b[33m,\u001b[39m { waitUntil\u001b[33m:\u001b[39m \u001b[32m'domcontentloaded'\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  10 |\u001b[39m }"},{"title":"Wait for timeout","startTime":"2026-01-13T23:52:32.547Z","duration":3002,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":340,"column":16},"count":1,"skipped":false,"snippet":" \u001b[90m 339 |\u001b[39m     \u001b[36mawait\u001b[39m helpers\u001b[33m.\u001b[39mnavigateToWatch(page\u001b[33m,\u001b[39m liveStream\u001b[33m.\u001b[39mslug)\u001b[33m;\u001b[39m\n \u001b[90m 340 |\u001b[39m     \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForTimeout(\u001b[35m3000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Allow player to sync\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 341 |\u001b[39m"},{"title":"Evaluate","startTime":"2026-01-13T23:52:35.549Z","duration":3,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":343,"column":39},"count":1,"skipped":false,"snippet":" \u001b[90m 342 |\u001b[39m     \u001b[90m// Step 3: Try to get player position via JavaScript\u001b[39m\n \u001b[90m 343 |\u001b[39m     \u001b[36mconst\u001b[39m playerPosition \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate(() \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                      ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 344 |\u001b[39m       \u001b[90m// Try various player APIs\u001b[39m"},{"title":"Expect \"toBeLessThanOrEqual\"","startTime":"2026-01-13T23:52:35.552Z","duration":2,"steps":[],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":366,"column":21},"error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeLessThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: <= \u001b[32m7\u001b[39m\nReceived:    \u001b[31m2761.041724\u001b[39m","count":1,"skipped":false,"snippet":" \u001b[90m 365 |\u001b[39m       \u001b[90m// Expected Result: Within drift tolerance\u001b[39m\n \u001b[90m 366 |\u001b[39m       expect(drift)\u001b[33m.\u001b[39mtoBeLessThanOrEqual(driftTolerance \u001b[33m+\u001b[39m \u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Allow some buffer for test timing\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                    ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 367 |\u001b[39m     } \u001b[36melse\u001b[39m {"},{"title":"After Hooks","startTime":"2026-01-13T23:52:35.554Z","duration":513,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-13T23:52:35.669Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-13T23:52:35.669Z","duration":129,"steps":[{"title":"Close context","startTime":"2026-01-13T23:52:35.710Z","duration":84,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[1],"count":1,"skipped":false},{"title":"afterAll hook","startTime":"2026-01-13T23:52:35.806Z","duration":261,"steps":[{"title":"DELETE \"/api/streams/cmkd8xx69002ood2ltrmmx6qx\"","startTime":"2026-01-13T23:52:35.812Z","duration":55,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"DELETE \"/api/streams/cmkd8xxcq002sod2lkmyu1jfj\"","startTime":"2026-01-13T23:52:35.868Z","duration":76,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"DELETE \"/api/streams/cmkd8xxiq002wod2lepwp1t3i\"","startTime":"2026-01-13T23:52:35.945Z","duration":38,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"DELETE \"/api/streams/cmkd8xxoz0030od2lwjbrpvwp\"","startTime":"2026-01-13T23:52:35.984Z","duration":77,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"}],"attachments":[],"location":{"file":"04-viewer-experience.spec.ts","line":90,"column":8},"count":1,"skipped":false,"snippet":" \u001b[90m  89 |\u001b[39m\n \u001b[90m  90 |\u001b[39m   test\u001b[33m.\u001b[39mafterAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  91 |\u001b[39m     \u001b[90m// Cleanup test streams\u001b[39m"}],"attachments":[0],"count":1,"skipped":false},{"title":"Worker Cleanup","startTime":"2026-01-13T23:52:36.067Z","duration":71,"steps":[{"title":"Fixture \"browser\"","startTime":"2026-01-13T23:52:36.068Z","duration":68,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[{"message":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeLessThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: <= \u001b[32m7\u001b[39m\nReceived:    \u001b[31m2761.041724\u001b[39m\n\n\u001b[0m \u001b[90m 364 |\u001b[39m\n \u001b[90m 365 |\u001b[39m       \u001b[90m// Expected Result: Within drift tolerance\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 366 |\u001b[39m       expect(drift)\u001b[33m.\u001b[39mtoBeLessThanOrEqual(driftTolerance \u001b[33m+\u001b[39m \u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Allow some buffer for test timing\u001b[39m\n \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 367 |\u001b[39m     } \u001b[36melse\u001b[39m {\n \u001b[90m 368 |\u001b[39m       console\u001b[33m.\u001b[39mlog(\u001b[32m'Could not access player currentTime - player may use different API'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 369 |\u001b[39m       \u001b[90m// Test passes as we can't verify without player access\u001b[39m\u001b[0m\n\u001b[2m    at C:\\Users\\Sky.TLC\\simulive-test\\e2e\\tests\\04-viewer-experience.spec.ts:366:21\u001b[22m","codeframe":"  266 |       pageText.toLowerCase().includes('unavailable') ||\n  267 |       pageText.toLowerCase().includes('not available') ||\n  268 |       pageText.toLowerCase().includes('inactive') ||\n  269 |       pageText.toLowerCase().includes('not found');\n  270 |\n  271 |     expect(hasUnavailable).toBe(true);\n  272 |\n  273 |     // Verification: No video player attempting to load\n  274 |     const player = page.locator(selectors.videoPlayer);\n  275 |     const playerCount = await player.count();\n  276 |     console.log(`Player elements found: ${playerCount}`);\n  277 |   });\n  278 |\n  279 |   test('4.7: Real-Time Stop Notification (SSE)', async ({ page, context }) => {\n  280 |     if (!liveStream) {\n  281 |       test.skip(true, 'No live stream for SSE test');\n  282 |       return;\n  283 |     }\n  284 |\n  285 |     // Step 1: Open watch page\n  286 |     await helpers.navigateToWatch(page, liveStream.slug);\n  287 |     await page.waitForTimeout(2000);\n  288 |\n  289 |     // Track if page content changes\n  290 |     const initialText = await helpers.getPageText(page);\n  291 |\n  292 |     // Step 2: In separate context, stop the stream via API\n  293 |     const stopTime = new Date().toISOString();\n  294 |     await api.updateStream(liveStream.id, { endedAt: stopTime });\n  295 |\n  296 |     // Step 3: Wait for SSE update (or poll fallback)\n  297 |     await page.waitForTimeout(3000); // Allow time for SSE or polling\n  298 |\n  299 |     // Optionally trigger a check by clicking or scrolling\n  300 |     await page.mouse.move(100, 100);\n  301 |\n  302 |     const updatedText = await helpers.getPageText(page);\n  303 |\n  304 |     // Expected Result: Page updates to show stopped state\n  305 |     // The text should change or show stopped/ended indicator\n  306 |     const textChanged = initialText !== updatedText;\n  307 |     const showsStopped =\n  308 |       updatedText.toLowerCase().includes('stopped') ||\n  309 |       updatedText.toLowerCase().includes('ended') ||\n  310 |       badges.stopped.some((badge) => updatedText.includes(badge));\n  311 |\n  312 |     console.log(`Text changed: ${textChanged}, Shows stopped: ${showsStopped}`);\n  313 |\n  314 |     // Resume the stream for other tests\n  315 |     await api.updateStream(liveStream.id, { endedAt: null });\n  316 |\n  317 |     // Verification is soft - SSE may not be immediately visible in UI\n  318 |     expect(textChanged || showsStopped).toBe(true);\n  319 |   });\n  320 |\n  321 |   test('4.8: Player Sync Accuracy', async ({ page }) => {\n  322 |     if (!liveStream) {\n  323 |       test.skip(true, 'No live stream for sync test');\n  324 |       return;\n  325 |     }\n  326 |\n  327 |     // Get stream details to know scheduled start\n  328 |     const stream = await api.getStream(liveStream.id);\n  329 |     if (!stream) {\n  330 |       test.skip(true, 'Could not fetch stream details');\n  331 |       return;\n  332 |     }\n  333 |\n  334 |     const scheduledStart = new Date(stream.scheduledStart).getTime();\n  335 |     const now = Date.now();\n  336 |     const expectedPosition = (now - scheduledStart) / 1000; // seconds\n  337 |\n  338 |     // Step 1-2: Navigate to watch page\n  339 |     await helpers.navigateToWatch(page, liveStream.slug);\n  340 |     await page.waitForTimeout(3000); // Allow player to sync\n  341 |\n  342 |     // Step 3: Try to get player position via JavaScript\n  343 |     const playerPosition = await page.evaluate(() => {\n  344 |       // Try various player APIs\n  345 |       const muxPlayer = document.querySelector('mux-player') as HTMLVideoElement | null;\n  346 |       if (muxPlayer && 'currentTime' in muxPlayer) {\n  347 |         return muxPlayer.currentTime;\n  348 |       }\n  349 |\n  350 |       const video = document.querySelector('video');\n  351 |       if (video) {\n  352 |         return video.currentTime;\n  353 |       }\n  354 |\n  355 |       return null;\n  356 |     });\n  357 |\n  358 |     if (playerPosition !== null) {\n  359 |       // Calculate drift\n  360 |       const drift = Math.abs(playerPosition - expectedPosition);\n  361 |       const driftTolerance = stream.driftTolerance || 2;\n  362 |\n  363 |       console.log(`Expected: ${expectedPosition.toFixed(1)}s, Actual: ${playerPosition.toFixed(1)}s, Drift: ${drift.toFixed(1)}s`);\n  364 |\n  365 |       // Expected Result: Within drift tolerance\n> 366 |       expect(drift).toBeLessThanOrEqual(driftTolerance + 5); // Allow some buffer for test timing\n      |                     ^ Error: expect(received).toBeLessThanOrEqual(expected)\n  367 |     } else {\n  368 |       console.log('Could not access player currentTime - player may use different API');\n  369 |       // Test passes as we can't verify without player access\n  370 |     }\n  371 |   });\n  372 | });\n  373 |\n  374 | //"}],"status":"failed","annotations":[],"attachments":[{"name":"screenshot","contentType":"image/png","path":"data/b8626bfd1310c2a1a420717671ed160057ea1071.png"},{"name":"video","contentType":"video/webm","path":"data/67ae71adb775fbc61397aef5655f39a87a220b72.webm"},{"name":"error-context","contentType":"text/markdown","path":"data/d907a9099da096b14566705b1180107aa01472f3.md"},{"name":"stdout","contentType":"text/plain","body":"Expected: 3615.8s, Actual: 854.8s, Drift: 2761.0s\n"}]}],"ok":false}]}