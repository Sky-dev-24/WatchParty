{"fileId":"d7e789e21482014f98d2","fileName":"08-cache-behavior.spec.ts","tests":[{"testId":"d7e789e21482014f98d2-ba3809f65108e479cfa6","title":"8.1: Cache Headers Present","projectName":"chromium","location":{"file":"08-cache-behavior.spec.ts","line":19,"column":7},"duration":162,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 8: Cache Behavior"],"results":[{"duration":162,"startTime":"2026-01-14T01:27:51.568Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:51.569Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Create request context","startTime":"2026-01-14T01:27:51.574Z","duration":1,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":20,"column":24},"count":1,"skipped":false,"snippet":" \u001b[90m  19 |\u001b[39m   test(\u001b[32m'8.1: Cache Headers Present'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m  20 |\u001b[39m     \u001b[36mconst\u001b[39m apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({ baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl })\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  21 |\u001b[39m"},{"title":"GET \"/api/streams\"","startTime":"2026-01-14T01:27:51.576Z","duration":27,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":23,"column":40},"count":1,"skipped":false,"snippet":" \u001b[90m  22 |\u001b[39m     \u001b[90m// Step 1: GET /api/streams\u001b[39m\n \u001b[90m  23 |\u001b[39m     \u001b[36mconst\u001b[39m response1 \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m apiContext\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  24 |\u001b[39m"},{"title":"GET \"/api/streams\"","startTime":"2026-01-14T01:27:51.703Z","duration":26,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":34,"column":40},"count":1,"skipped":false,"snippet":" \u001b[90m  33 |\u001b[39m     \u001b[36mawait\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((resolve) \u001b[33m=>\u001b[39m setTimeout(resolve\u001b[33m,\u001b[39m \u001b[35m100\u001b[39m))\u001b[33m;\u001b[39m\n \u001b[90m  34 |\u001b[39m     \u001b[36mconst\u001b[39m response2 \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m apiContext\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  35 |\u001b[39m     \u001b[36mconst\u001b[39m headers2 \u001b[33m=\u001b[39m response2\u001b[33m.\u001b[39mheaders()\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:51.730Z","duration":0,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":42,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m  41 |\u001b[39m     \u001b[90m// Note: First request might be MISS, second should be HIT\u001b[39m\n \u001b[90m  42 |\u001b[39m     expect(response1\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  43 |\u001b[39m     expect(response2\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:51.731Z","duration":0,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":43,"column":32},"count":1,"skipped":false,"snippet":" \u001b[90m  42 |\u001b[39m     expect(response1\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m  43 |\u001b[39m     expect(response2\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                               ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  44 |\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:51.735Z","duration":5,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"First request X-Cache: HIT\nSecond request X-Cache: HIT\n"}]}],"ok":true},{"testId":"d7e789e21482014f98d2-57c5f1e73d621e7e8265","title":"8.2: Cache Invalidation on Create","projectName":"chromium","location":{"file":"08-cache-behavior.spec.ts","line":48,"column":7},"duration":1004,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 8: Cache Behavior"],"results":[{"duration":1004,"startTime":"2026-01-14T01:27:51.740Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:51.741Z","duration":3,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Create request context","startTime":"2026-01-14T01:27:51.745Z","duration":1,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":19,"column":18},"count":1,"skipped":false,"snippet":" \u001b[90m  18 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mapiContext) {\n \u001b[90m  19 |\u001b[39m     apiContext \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request\u001b[33m.\u001b[39mnewContext({\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  20 |\u001b[39m       baseURL\u001b[33m:\u001b[39m config\u001b[33m.\u001b[39mbaseUrl\u001b[33m,\u001b[39m"},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-14T01:27:51.748Z","duration":34,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"GET \"/api/streams\"","startTime":"2026-01-14T01:27:51.783Z","duration":27,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"GET \"/api/mux/assets?limit=1\"","startTime":"2026-01-14T01:27:51.812Z","duration":185,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-14T01:27:51.999Z","duration":177,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:52.177Z","duration":0,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":73,"column":27},"count":1,"skipped":false,"snippet":" \u001b[90m  72 |\u001b[39m\n \u001b[90m  73 |\u001b[39m     expect(result\u001b[33m.\u001b[39mstream)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                          ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  74 |\u001b[39m     \u001b[36mconst\u001b[39m newStreamId \u001b[33m=\u001b[39m result\u001b[33m.\u001b[39mstream\u001b[33m!\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m"},{"title":"GET \"/api/streams\"","startTime":"2026-01-14T01:27:52.678Z","duration":30,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:52.709Z","duration":0,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":82,"column":35},"count":1,"skipped":false,"snippet":" \u001b[90m  81 |\u001b[39m     \u001b[90m// Expected Result: New stream appears in response\u001b[39m\n \u001b[90m  82 |\u001b[39m     expect(updatedStreams\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(initialCount \u001b[33m+\u001b[39m \u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                  ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  83 |\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:52.710Z","duration":0,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":86,"column":25},"count":1,"skipped":false,"snippet":" \u001b[90m  85 |\u001b[39m     \u001b[36mconst\u001b[39m foundStream \u001b[33m=\u001b[39m updatedStreams\u001b[33m.\u001b[39mfind((s) \u001b[33m=>\u001b[39m s\u001b[33m.\u001b[39mid \u001b[33m===\u001b[39m newStreamId)\u001b[33m;\u001b[39m\n \u001b[90m  86 |\u001b[39m     expect(foundStream)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                        ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  87 |\u001b[39m"},{"title":"DELETE \"/api/streams/cmkdccuuw0031od2n21yqqpz4\"","startTime":"2026-01-14T01:27:52.711Z","duration":37,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:52.748Z","duration":7,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Initial count: 1, After create: 2\n"}]}],"ok":true},{"testId":"d7e789e21482014f98d2-10d3dfc7584e68ae5f64","title":"8.3: Cache Invalidation on Update","projectName":"chromium","location":{"file":"08-cache-behavior.spec.ts","line":94,"column":7},"duration":1014,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 8: Cache Behavior"],"results":[{"duration":1014,"startTime":"2026-01-14T01:27:52.756Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:52.756Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-14T01:27:52.761Z","duration":29,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"GET \"/api/mux/assets?limit=1\"","startTime":"2026-01-14T01:27:52.791Z","duration":169,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-14T01:27:52.961Z","duration":173,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:53.134Z","duration":1,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":114,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 113 |\u001b[39m\n \u001b[90m 114 |\u001b[39m     expect(createResult\u001b[33m.\u001b[39mstream)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 115 |\u001b[39m     \u001b[36mconst\u001b[39m streamId \u001b[33m=\u001b[39m createResult\u001b[33m.\u001b[39mstream\u001b[33m!\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m"},{"title":"GET \"/api/streams\"","startTime":"2026-01-14T01:27:53.135Z","duration":29,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"PATCH \"/api/streams/cmkdccvlk0036od2n51dxg56s\"","startTime":"2026-01-14T01:27:53.166Z","duration":40,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"GET \"/api/streams\"","startTime":"2026-01-14T01:27:53.707Z","duration":26,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":105,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 104 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 105 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 106 |\u001b[39m   \u001b[36mconst\u001b[39m streams \u001b[33m=\u001b[39m normalizeStreams(\u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson())\u001b[33m;\u001b[39m"},{"title":"Expect \"toBe\"","startTime":"2026-01-14T01:27:53.734Z","duration":0,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":134,"column":34},"count":1,"skipped":false,"snippet":" \u001b[90m 133 |\u001b[39m     \u001b[90m// Verification: Title change visible\u001b[39m\n \u001b[90m 134 |\u001b[39m     expect(updatedStream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(newTitle)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 135 |\u001b[39m     expect(updatedStream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBe(originalTitle)\u001b[33m;\u001b[39m"},{"title":"Expect \"not toBe\"","startTime":"2026-01-14T01:27:53.735Z","duration":0,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":135,"column":38},"count":1,"skipped":false,"snippet":" \u001b[90m 134 |\u001b[39m     expect(updatedStream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(newTitle)\u001b[33m;\u001b[39m\n \u001b[90m 135 |\u001b[39m     expect(updatedStream\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBe(originalTitle)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                     ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 136 |\u001b[39m"},{"title":"DELETE \"/api/streams/cmkdccvlk0036od2n51dxg56s\"","startTime":"2026-01-14T01:27:53.736Z","duration":38,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:53.774Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Original: \"E2E Cache Test - Update Original\", Updated: \"E2E Cache Test - Update Modified\"\n"}]}],"ok":true},{"testId":"d7e789e21482014f98d2-68fc4659b1f1f401d8f0","title":"8.4: Status Cache (Short TTL)","projectName":"chromium","location":{"file":"08-cache-behavior.spec.ts","line":143,"column":7},"duration":1065,"annotations":[],"tags":[],"outcome":"expected","path":["Suite 8: Cache Behavior"],"results":[{"duration":1065,"startTime":"2026-01-14T01:27:53.778Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-14T01:27:53.779Z","duration":4,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"POST \"/api/admin/login\"","startTime":"2026-01-14T01:27:53.784Z","duration":31,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":48,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m  47 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m  48 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mlogin\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  49 |\u001b[39m     data\u001b[33m:\u001b[39m { password }\u001b[33m,\u001b[39m"},{"title":"GET \"/api/mux/assets?limit=1\"","startTime":"2026-01-14T01:27:53.816Z","duration":173,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":224,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 223 |\u001b[39m   \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[32m`${endpoints.api.muxAssets}?${searchParams.toString()}`\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m 224 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(url\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 225 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"POST \"/api/streams\"","startTime":"2026-01-14T01:27:53.990Z","duration":178,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":128,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 127 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 128 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpost(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreams\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 129 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:54.168Z","duration":1,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":164,"column":33},"count":1,"skipped":false,"snippet":" \u001b[90m 163 |\u001b[39m\n \u001b[90m 164 |\u001b[39m     expect(createResult\u001b[33m.\u001b[39mstream)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 165 |\u001b[39m     \u001b[36mconst\u001b[39m streamId \u001b[33m=\u001b[39m createResult\u001b[33m.\u001b[39mstream\u001b[33m!\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m"},{"title":"PATCH \"/api/streams/cmkdccwec003cod2n6gs7xfcz\"","startTime":"2026-01-14T01:27:54.169Z","duration":40,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"GET \"/api/streams/cmkdccwec003cod2n6gs7xfcz/status\"","startTime":"2026-01-14T01:27:54.211Z","duration":26,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":186,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 185 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 186 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreamStatus(idOrSlug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 187 |\u001b[39m   \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mstatus() \u001b[33m===\u001b[39m \u001b[35m404\u001b[39m) \u001b[36mreturn\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeNull\"","startTime":"2026-01-14T01:27:54.238Z","duration":0,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":170,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 169 |\u001b[39m     \u001b[36mconst\u001b[39m status1 \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mgetStreamStatus(streamId)\u001b[33m;\u001b[39m\n \u001b[90m 170 |\u001b[39m     expect(status1\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mendedAt)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 171 |\u001b[39m"},{"title":"PATCH \"/api/streams/cmkdccwec003cod2n6gs7xfcz\"","startTime":"2026-01-14T01:27:54.239Z","duration":42,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":158,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 157 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 158 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mpatch(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 159 |\u001b[39m     data\u001b[33m,\u001b[39m"},{"title":"GET \"/api/streams/cmkdccwec003cod2n6gs7xfcz/status\"","startTime":"2026-01-14T01:27:54.782Z","duration":27,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":186,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 185 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 186 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstreamStatus(idOrSlug))\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 187 |\u001b[39m   \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mstatus() \u001b[33m===\u001b[39m \u001b[35m404\u001b[39m) \u001b[36mreturn\u001b[39m \u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m"},{"title":"Expect \"toBeDefined\"","startTime":"2026-01-14T01:27:54.809Z","duration":1,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":182,"column":30},"count":1,"skipped":false,"snippet":" \u001b[90m 181 |\u001b[39m     \u001b[90m// Expected Result: Second request shows stopped state\u001b[39m\n \u001b[90m 182 |\u001b[39m     expect(status2\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mendedAt)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 183 |\u001b[39m"},{"title":"Expect \"not toBeNull\"","startTime":"2026-01-14T01:27:54.810Z","duration":0,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":188,"column":34},"count":1,"skipped":false,"snippet":" \u001b[90m 187 |\u001b[39m     \u001b[90m// The update should be visible within a reasonable time\u001b[39m\n \u001b[90m 188 |\u001b[39m     expect(status2\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mendedAt)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                 ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 189 |\u001b[39m"},{"title":"DELETE \"/api/streams/cmkdccwec003cod2n6gs7xfcz\"","startTime":"2026-01-14T01:27:54.811Z","duration":36,"steps":[],"attachments":[],"location":{"file":"../lib/api-helpers.ts","line":177,"column":36},"count":1,"skipped":false,"snippet":" \u001b[90m 176 |\u001b[39m   \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getApiContext()\u001b[33m;\u001b[39m\n \u001b[90m 177 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(endpoints\u001b[33m.\u001b[39mapi\u001b[33m.\u001b[39mstream(id)\u001b[33m,\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m                                   ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 178 |\u001b[39m     headers\u001b[33m:\u001b[39m sessionCookie \u001b[33m?\u001b[39m { \u001b[33mCookie\u001b[39m\u001b[33m:\u001b[39m sessionCookie } \u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m"},{"title":"After Hooks","startTime":"2026-01-14T01:27:54.848Z","duration":15,"steps":[{"title":"afterAll hook","startTime":"2026-01-14T01:27:54.852Z","duration":11,"steps":[],"attachments":[],"location":{"file":"08-cache-behavior.spec.ts","line":15,"column":8},"count":1,"skipped":false,"snippet":" \u001b[90m  14 |\u001b[39m test\u001b[33m.\u001b[39mdescribe(\u001b[32m'Suite 8: Cache Behavior'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m  15 |\u001b[39m   test\u001b[33m.\u001b[39mafterAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m       ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  16 |\u001b[39m     \u001b[36mawait\u001b[39m api\u001b[33m.\u001b[39mdisposeApiContext()\u001b[33m;\u001b[39m"}],"attachments":[],"count":1,"skipped":false}],"errors":[],"status":"passed","annotations":[],"attachments":[{"name":"stdout","contentType":"text/plain","body":"Before stop: endedAt=null, After stop: endedAt=2026-01-14T01:27:54.238Z\n"}]}],"ok":true}]}